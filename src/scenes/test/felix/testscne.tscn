[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(238, 348, 238, 451, 224, 424, 224, 376, 162, 451, 176, 424, 162, 348, 176, 376, 638, 239, 338, 239, 124, 224, 176, 224, 862, 39, 638, 39, 624, 24, 676, 24, 762, 539, 638, 539, 524, 524, 576, 524, 338, 739, 238, 739, 124, 724, 176, 724, 324, 624, 338, 465, 324, 676, 324, 576, 324, 524, 624, 176, 576, 176, 224, 124, 276, 124, 224, 624, 276, 676, 140, 648, 176, 624, 624, 124, 624, 76, 576, 76, 562, 65, 576, 24, 924, 124, 924, 176, 876, 176, 862, 165, 876, 124, 338, 965, 62, 965, 124, 924, 176, 924, 324, 476, 724, 524, 776, 524, 924, 576, 876, 576, 924, 776, 876, 776, 724, 724, 776, 724, 924, 876, 876, 876, 724, 824, 776, 824, 924, 424, 924, 376, 1106.09, -138.133, 1114.9, 1080.4, 924, 324, 338, -61, 338, 65, 324, 24, 324, -24, 238, 865, 224, 824, 224, 776, 338, 865, 324, 924, 324, 876, 538, 748, 538, 865, 524, 824, 524, 776, 638, 365, 638, 465, 624, 424, 624, 376, 924, 276, 924, 224, 24, 624, 56, 639, -62, 639, -24, 624, 556, 551, 556, 639, 538, 639, 524, 624, 524, 576, 76, 924, 62, 839, 76, 876, 924, 76, 924, 24, 240, 465, 276, 476, 276, 876, 462, 365, 576, 376, 338, 339, 324, 324, 324, 276, 138, -61, 138, 39, 124, 24, 124, -24, 38, 65, 38, 139, 24, 124, 24, 76, -62, 65, -24, 76, 38, 265, 38, 339, 24, 324, 24, 276, -62, 265, -24, 276, 240, 339, 276, 324, 62, 39, 76, 24, 62, -61, 76, -24, -62, 139, -24, 124, -62, 339, -24, 324, 924, -24, -193.227, -150.859, 876, -24, 562, -61, 156, 465, 156, 548, 124, 524, 124, 476, -62, 465, 76, 476, 176, 576, 140, 551, 462, 748, 476, 776, 462, 765, 56, 551, 24, 576, 240, 251, 276, 276, 240, 548, 276, 524, 176, 776, 876, 76, 876, 24, 824, 24, 824, -24, 162, 251, 162, 239, 276, 576, 638, 551, 476, 524, 476, 576, 538, 651, 462, 651, 476, 624, 476, 476, 824, 476, 762, 465, 762, 448, 840, 448, 876, 476, 840, 351, 762, 351, 762, 339, 724, 324, 776, 324, 662, 339, 676, 324, 662, 265, 676, 276, 762, 265, 724, 276, 876, 224, 824, 224, 824, 176, 762, 165, 776, 176, 776, 224, 876, 276, 824, 276, 876, 324, 824, 324, 776, 276, 876, 376, 876, 524, 824, 524, 876, 624, 824, 624, 824, 576, 876, 676, 876, 724, 824, 724, 824, 676, 876, 824, 824, 824, 824, 776, 776, 776, 676, 724, 876, 924, 824, 924, 824, 876, 776, 876, 676, 824, 576, -24, 276, 924, 224, 924, 224, 876, 876, 424, 276, 24, 176, 824, 124, 824, 124, 776, 76, 724, 76, 776, 62, 765, 24, 824, 76, 824, 176, 876, 476, 824, 424, 824, 462, 839, 424, 776, 362, 765, 376, 776, 362, 839, 376, 824, 576, 424, 524, 476, 524, 424, 576, 476, 524, 376, 476, 376, 624, -24, 276, -24, 262, -61, 124, 876, -24, 576, 62, 239, 76, 224, 62, 165, 76, 176, 162, 165, 124, 176, 176, 176, 524, 124, 524, 76, 576, 124, 224, 576, 276, 624, 924, 824, 476, 424, 924, 924, 576, 224, 624, 224, 524, 224, 524, 176, 476, 176, 176, 124, 276, 724, 324, 724, 224, 724, 224, 676, 176, 676, 124, 676, 724, 776, 776, 924, 724, 876, 476, 76, 24, 524, 76, 524, -24, 524, 24, 476, -24, 476, 924, 724, 924, 476, 724, 924, 676, 876, 662, 865, 924, 676, 924, 624, 776, 624, 776, 676, 762, 665, 476, 124, 424, 124, 424, 76, 376, 76, 376, 124, 724, 676, 676, 776, 324, 76, 924, 524, 776, 476, 724, 476, 676, 924, 624, 924, 624, 876, 776, 24, 724, 24, 776, -24, 724, -24, 24, 776, -62, 839, -24, 824, -24, 776, -62, 765, 676, 476, 624, 476, 676, 524, 624, 524, 576, 924, 524, 924, 576, 876, 524, 876, 476, 924, 462, 965, 324, 124, 276, 76, 262, 65, 224, 76, 476, 224, 424, 224, 424, 176, 376, 176, 62, 648, 76, 676, 676, -24, 776, 576, 662, 665, 676, 676, 476, 876, -214.75, 1118.58, -62, 965, -62, -61, 162, 65, 176, 76, 376, 224, 324, 224, 324, 176, 276, 176, 276, 224, 224, 224, 224, 176)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(2, 1, 4, 5), PackedInt32Array(5, 4, 6, 7), PackedInt32Array(7, 6, 0, 3), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23), PackedInt32Array(24, 25, 20, 26), PackedInt32Array(25, 24, 27), PackedInt32Array(28, 25, 27), PackedInt32Array(29, 30, 31, 32), PackedInt32Array(33, 26, 34, 35, 36), PackedInt32Array(37, 38, 13, 8), PackedInt32Array(14, 13, 38, 39, 40, 41), PackedInt32Array(42, 43, 44, 45, 46), PackedInt32Array(47, 48, 49, 50), PackedInt32Array(25, 28, 51), PackedInt32Array(52, 53, 54, 55, 16), PackedInt32Array(56, 57, 58, 59), PackedInt32Array(60, 61, 62, 63), PackedInt32Array(64, 65, 66, 67), PackedInt32Array(68, 66, 65), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(21, 73, 74, 75), PackedInt32Array(76, 47, 77, 78), PackedInt32Array(79, 80, 81, 82), PackedInt32Array(83, 84, 85, 86), PackedInt32Array(66, 68, 87), PackedInt32Array(88, 66, 87), PackedInt32Array(89, 90, 91, 92), PackedInt32Array(93, 94, 95, 96, 97), PackedInt32Array(66, 88, 43), PackedInt32Array(42, 66, 43), PackedInt32Array(98, 49, 48), PackedInt32Array(98, 48, 99, 100), PackedInt32Array(66, 42, 101), PackedInt32Array(102, 66, 101), PackedInt32Array(103, 25, 51, 104), PackedInt32Array(73, 76, 78, 105), PackedInt32Array(106, 83, 86, 107), PackedInt32Array(9, 108, 109, 110), PackedInt32Array(111, 112, 113, 114), PackedInt32Array(115, 116, 117, 118), PackedInt32Array(119, 115, 118, 120), PackedInt32Array(121, 122, 123, 124), PackedInt32Array(125, 121, 124, 126), PackedInt32Array(109, 108, 127, 128), PackedInt32Array(113, 112, 129, 130), PackedInt32Array(130, 129, 131, 132), PackedInt32Array(117, 116, 133, 134), PackedInt32Array(123, 122, 135, 136), PackedInt32Array(66, 102, 137), PackedInt32Array(138, 66, 137, 139, 140), PackedInt32Array(141, 142, 143, 144), PackedInt32Array(145, 141, 144, 146), PackedInt32Array(147, 36, 35, 148, 142), PackedInt32Array(149, 79, 82, 150, 151), PackedInt32Array(152, 90, 89, 153), PackedInt32Array(128, 127, 154, 155), PackedInt32Array(156, 103, 104, 157), PackedInt32Array(22, 21, 75, 158), PackedInt32Array(46, 45, 12, 159), PackedInt32Array(139, 160, 12, 161, 162), PackedInt32Array(160, 102, 101, 159, 12), PackedInt32Array(154, 163, 164), PackedInt32Array(157, 28, 27, 165, 156), PackedInt32Array(17, 166, 93, 18), PackedInt32Array(167, 18, 93, 97, 168), PackedInt32Array(96, 95, 169, 170, 171), PackedInt32Array(171, 170, 106, 168), PackedInt32Array(167, 168, 106), PackedInt32Array(172, 167, 106), PackedInt32Array(173, 174, 175, 176, 177), PackedInt32Array(178, 179, 180), PackedInt32Array(178, 180, 181, 182), PackedInt32Array(181, 180, 183, 184), PackedInt32Array(184, 183, 185, 186), PackedInt32Array(186, 185, 187, 188), PackedInt32Array(44, 189, 190, 191, 45), PackedInt32Array(192, 45, 191, 193), PackedInt32Array(187, 192, 193, 194), PackedInt32Array(189, 88, 87, 195), PackedInt32Array(190, 189, 195, 196), PackedInt32Array(195, 197, 198, 196), PackedInt32Array(194, 190, 196, 199, 187), PackedInt32Array(197, 68, 65, 200), PackedInt32Array(198, 197, 200, 178), PackedInt32Array(177, 201, 202, 173), PackedInt32Array(55, 203, 204, 205), PackedInt32Array(206, 207, 208, 209), PackedInt32Array(57, 210, 211, 212), PackedInt32Array(58, 57, 212), PackedInt32Array(58, 212, 213, 214), PackedInt32Array(61, 215, 216, 217), PackedInt32Array(62, 61, 217), PackedInt32Array(62, 217, 218, 219), PackedInt32Array(41, 40, 140, 220), PackedInt32Array(119, 120, 134, 133), PackedInt32Array(125, 126, 136, 135), PackedInt32Array(73, 105, 221, 222, 223), PackedInt32Array(181, 188, 187, 199, 182), PackedInt32Array(178, 182, 198), PackedInt32Array(176, 178, 200, 224), PackedInt32Array(225, 71, 70), PackedInt32Array(226, 74, 73), PackedInt32Array(226, 73, 227), PackedInt32Array(158, 226, 227, 228), PackedInt32Array(22, 158, 228, 229), PackedInt32Array(229, 228, 230, 231), PackedInt32Array(221, 77, 47), PackedInt32Array(221, 47, 222), PackedInt32Array(232, 233, 73, 223, 234, 99), PackedInt32Array(235, 81, 80), PackedInt32Array(236, 235, 80, 237), PackedInt32Array(150, 235, 236, 238, 151), PackedInt32Array(239, 151, 238, 240), PackedInt32Array(241, 239, 240, 242), PackedInt32Array(237, 241, 242, 236), PackedInt32Array(243, 85, 84), PackedInt32Array(244, 245, 243, 84, 246), PackedInt32Array(107, 243, 245, 247), PackedInt32Array(106, 107, 247), PackedInt32Array(106, 247, 248), PackedInt32Array(249, 220, 140), PackedInt32Array(69, 72, 250, 251), PackedInt32Array(9, 110, 155, 154), PackedInt32Array(111, 114, 132, 131), PackedInt32Array(252, 100, 99), PackedInt32Array(253, 92, 91, 145), PackedInt32Array(10, 9, 154, 164), PackedInt32Array(10, 164, 254, 255), PackedInt32Array(255, 254, 256, 257), PackedInt32Array(257, 256, 258, 259), PackedInt32Array(10, 259, 258, 260, 11), PackedInt32Array(29, 261, 262, 263), PackedInt32Array(26, 33, 264, 265), PackedInt32Array(210, 266, 67, 60), PackedInt32Array(156, 165, 265, 264), PackedInt32Array(40, 39, 263, 262), PackedInt32Array(106, 248, 267), PackedInt32Array(172, 106, 267), PackedInt32Array(244, 172, 267, 245), PackedInt32Array(67, 268, 60), PackedInt32Array(211, 210, 60), PackedInt32Array(269, 270, 8), PackedInt32Array(269, 8, 271), PackedInt32Array(30, 269, 271, 272), PackedInt32Array(31, 30, 272), PackedInt32Array(31, 272, 273, 274), PackedInt32Array(275, 276, 20), PackedInt32Array(275, 20, 277), PackedInt32Array(34, 275, 277, 278), PackedInt32Array(35, 34, 278), PackedInt32Array(35, 278, 279), PackedInt32Array(35, 279, 23, 22, 280), PackedInt32Array(214, 213, 63, 281), PackedInt32Array(219, 218, 282, 283), PackedInt32Array(8, 270, 29), PackedInt32Array(37, 8, 29), PackedInt32Array(263, 37, 29), PackedInt32Array(70, 40, 262, 284), PackedInt32Array(20, 276, 26), PackedInt32Array(265, 24, 26), PackedInt32Array(142, 156, 264, 147), PackedInt32Array(285, 286, 142, 148, 152), PackedInt32Array(287, 285, 152, 153, 253), PackedInt32Array(215, 268, 67), PackedInt32Array(286, 143, 142), PackedInt32Array(146, 286, 285, 288), PackedInt32Array(145, 146, 288), PackedInt32Array(145, 288, 289), PackedInt32Array(145, 289, 287), PackedInt32Array(67, 266, 56), PackedInt32Array(290, 67, 56), PackedInt32Array(207, 290, 56), PackedInt32Array(208, 207, 56), PackedInt32Array(176, 224, 64, 291, 177), PackedInt32Array(216, 215, 67), PackedInt32Array(145, 287, 253), PackedInt32Array(282, 216, 67), PackedInt32Array(282, 67, 292), PackedInt32Array(282, 292, 283), PackedInt32Array(219, 283, 293, 294), PackedInt32Array(67, 290, 295), PackedInt32Array(296, 67, 295), PackedInt32Array(203, 296, 295, 206), PackedInt32Array(204, 203, 206, 209), PackedInt32Array(297, 204, 209, 298, 299), PackedInt32Array(300, 261, 29), PackedInt32Array(300, 29, 301), PackedInt32Array(284, 300, 301, 302), PackedInt32Array(70, 284, 302), PackedInt32Array(70, 302, 303), PackedInt32Array(70, 303, 304), PackedInt32Array(59, 208, 56), PackedInt32Array(298, 59, 58, 305, 299), PackedInt32Array(63, 211, 60), PackedInt32Array(63, 62, 281), PackedInt32Array(214, 281, 306), PackedInt32Array(225, 70, 304, 307), PackedInt32Array(67, 296, 54), PackedInt32Array(308, 67, 54), PackedInt32Array(201, 308, 54), PackedInt32Array(202, 201, 54), PackedInt32Array(53, 202, 54), PackedInt32Array(309, 53, 52, 310, 174), PackedInt32Array(311, 292, 67), PackedInt32Array(311, 67, 312), PackedInt32Array(293, 311, 312, 313, 294), PackedInt32Array(314, 161, 12), PackedInt32Array(314, 12, 315), PackedInt32Array(316, 314, 315, 317), PackedInt32Array(233, 227, 73), PackedInt32Array(230, 233, 232, 318, 231), PackedInt32Array(50, 222, 47), PackedInt32Array(234, 50, 49, 252), PackedInt32Array(234, 252, 99), PackedInt32Array(232, 99, 319, 320), PackedInt32Array(321, 320, 319, 322), PackedInt32Array(67, 308, 291), PackedInt32Array(64, 67, 291), PackedInt32Array(174, 173, 309), PackedInt32Array(84, 174, 310, 323), PackedInt32Array(324, 84, 323, 325, 326), PackedInt32Array(327, 312, 67), PackedInt32Array(327, 67, 328), PackedInt32Array(329, 327, 328, 330, 80), PackedInt32Array(331, 328, 67, 332), PackedInt32Array(304, 301, 29), PackedInt32Array(304, 29, 333), PackedInt32Array(304, 333, 307), PackedInt32Array(225, 307, 334, 335), PackedInt32Array(32, 333, 29), PackedInt32Array(334, 32, 31, 336, 335), PackedInt32Array(337, 271, 8), PackedInt32Array(337, 8, 338), PackedInt32Array(273, 337, 338, 339), PackedInt32Array(274, 273, 339), PackedInt32Array(274, 339, 340, 258), PackedInt32Array(23, 277, 20), PackedInt32Array(341, 35, 280, 342), PackedInt32Array(231, 341, 342, 229), PackedInt32Array(322, 231, 318, 321), PackedInt32Array(15, 315, 12), PackedInt32Array(343, 15, 14, 249), PackedInt32Array(343, 249, 140), PackedInt32Array(317, 343, 140), PackedInt32Array(316, 317, 140), PackedInt32Array(162, 316, 140), PackedInt32Array(139, 162, 140), PackedInt32Array(138, 140, 69), PackedInt32Array(19, 326, 16), PackedInt32Array(246, 19, 18, 244), PackedInt32Array(324, 246, 84), PackedInt32Array(16, 326, 325), PackedInt32Array(16, 325, 52), PackedInt32Array(16, 55, 205), PackedInt32Array(16, 205, 344), PackedInt32Array(299, 16, 344, 297), PackedInt32Array(345, 299, 305, 346), PackedInt32Array(294, 345, 346, 214), PackedInt32Array(294, 214, 306), PackedInt32Array(294, 306, 219), PackedInt32Array(80, 294, 313, 329), PackedInt32Array(237, 80, 330, 347), PackedInt32Array(332, 237, 347, 331), PackedInt32Array(332, 67, 348, 47), PackedInt32Array(48, 47, 348), PackedInt32Array(349, 48, 348), PackedInt32Array(349, 348, 138, 319), PackedInt32Array(322, 319, 138), PackedInt32Array(91, 322, 138), PackedInt32Array(145, 91, 138), PackedInt32Array(135, 145, 138), PackedInt32Array(125, 135, 138), PackedInt32Array(133, 125, 138), PackedInt32Array(119, 133, 138), PackedInt32Array(350, 119, 138), PackedInt32Array(131, 350, 138), PackedInt32Array(111, 131, 138), PackedInt32Array(251, 111, 138), PackedInt32Array(251, 138, 69), PackedInt32Array(335, 251, 250, 225), PackedInt32Array(351, 335, 336, 352), PackedInt32Array(258, 351, 352, 274), PackedInt32Array(353, 338, 8), PackedInt32Array(353, 8, 354), PackedInt32Array(340, 353, 354, 355), PackedInt32Array(258, 340, 355), PackedInt32Array(258, 355, 356), PackedInt32Array(357, 354, 8), PackedInt32Array(357, 8, 358), PackedInt32Array(356, 357, 358, 359), PackedInt32Array(258, 356, 359), PackedInt32Array(258, 359, 260), PackedInt32Array(8, 11, 358)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
