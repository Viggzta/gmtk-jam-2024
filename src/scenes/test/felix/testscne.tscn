[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(724, 376, 676, 376, 162, 365, 176, 324, 224, 324, 738, 339, 962, 339, 276, 324, 738, 439, 638, 439, 24, 424, 76, 424, 562, 639, 438, 639, 124, 624, 176, 624, 724, 224, 924, 276, 876, 276, 662, 265, 676, 224, 662, 39, 538, 39, 424, 24, 476, 24, 162, 39, 38, 39, 24, 24, 76, 24, 1114.9, 1080.4, 662, 965, 724, 924, 776, 924, 924, 624, 962, 465, 924, 676, 624, 524, 624, 476, 638, 665, 924, 76, 876, 76, 624, 24, 676, 24, 924, 776, 876, 776, 624, 724, 676, 724, 924, 876, 876, 876, 624, 824, 676, 824, 624, 576, 576, 576, 562, 565, 576, 524, 124, 824, 124, 776, 138, 765, 138, 965, 924, 576, 1106.09, -138.133, 924, 224, 924, 176, 924, 524, 876, 176, 724, 124, 776, 124, -214.75, 1118.58, 338, 965, 238, -61, 238, 65, 224, 24, 224, -24, 338, 65, 338, 165, 324, 124, 324, 76, 438, 165, 438, 265, 424, 224, 424, 176, 38, 265, 38, 365, 24, 324, 24, 276, 438, 439, 438, 565, 424, 524, 424, 476, 338, 865, 324, 924, 324, 876, 924, 124, 124, 876, 76, 876, 24, 824, 24, 776, 76, 824, 924, 476, 762, 465, 876, 476, 676, 176, 676, 924, 662, 839, 676, 876, 924, 24, 276, 76, 376, 176, -62, 265, -24, 276, -62, 765, 76, 776, 262, 865, 276, 876, 538, 139, 524, 124, 524, 76, 724, 424, 38, 139, 24, 124, 24, 76, 238, 639, 238, 739, 224, 724, 224, 676, 462, 139, 476, 124, 462, 39, 476, 76, -62, 139, -24, 124, 162, 739, 176, 724, 162, 639, 176, 676, 924, -24, -193.227, -150.859, 876, -24, 262, 965, 276, 924, 176, 276, 876, 24, 824, 24, 824, -24, 776, -24, 876, 124, 824, 124, 824, 76, 776, 76, 876, 224, 824, 224, 824, 176, 776, 176, 676, 124, 876, 324, 824, 324, 824, 276, 776, 276, 676, 424, 624, 424, 624, 376, 576, 376, 876, 524, 824, 524, 824, 476, 776, 476, 762, 665, 776, 524, 876, 576, 824, 576, 876, 624, 824, 624, 776, 576, 776, 624, 876, 676, 876, 724, 824, 724, 824, 676, 876, 824, 824, 824, 824, 776, 776, 776, 876, 924, 824, 924, 824, 876, 776, 876, 438, 651, 362, 651, 362, 639, 276, 124, 224, 124, 224, 76, 376, 224, 324, 224, 324, 176, -24, 324, 176, 24, 124, 24, 176, -24, 124, -24, 276, 176, 376, 524, 324, 524, 376, 476, 324, 476, 576, 624, 624, 624, 524, 624, 524, 576, 476, 576, 476, 624, 424, 624, 424, 576, 76, 924, 124, 924, 24, 924, 24, 876, -24, 824, -24, 876, -24, 924, 362, 39, 376, 24, 362, -61, 376, -24, 424, -24, -24, 76, -24, 24, 576, 476, 562, 439, 724, 876, 62, 639, 76, 624, 62, 565, 76, 576, 162, 565, 124, 576, 176, 576, 924, 324, 924, 824, 924, 924, 776, 224, 724, 176, 176, 124, 276, 224, 224, 176, 176, 76, 924, 724, -24, 776, 562, 839, 576, 824, 576, 776, 776, 676, 776, 724, 724, 724, 724, 676, 776, 24, 724, 24, 724, -24, 676, -24, 724, 76, 676, 76, 676, 676, 624, 676, 776, 824, 724, 824, 724, 776, 676, 776, 576, 724, 624, 776, 576, 24, 524, 24, 576, -24, 524, -24, 224, 224, 176, 176, 276, 524, 224, 524, 376, 576, 276, 476, 224, 476, -62, 439, -24, -24, 76, -24, 624, -24, 576, 676, 176, 524, 324, 576, 176, 224, 424, 276, 376, 276, 176, 476, 162, 439, 576, 424, 524, 424, 524, 376, 476, 376, 476, -24, 776, 324, 724, 324, 724, 276, 676, 276, 676, 324, 624, 324, 624, 276, 376, 624, 324, 624, 276, 576, 276, 624, 224, 576, 476, 424, 424, 424, 424, 376, 376, 376, 576, 276, 224, 624, 376, 424, 324, 424, 324, 376, 276, 376, 576, 324, 524, 324, 524, 276, 476, 276, 476, 324, 424, 324, -24, 424, 276, 424, 224, 424, 224, 376, 176, 376, 176, 424, 124, 424, 124, 376, 76, 376, 24, 376, 376, 324, 324, 324, 324, 276, 276, 276, 224, 276, -24, 376, 24, -24)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 5, 4, 7), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19, 20), PackedInt32Array(21, 22, 23, 24), PackedInt32Array(25, 26, 27, 28), PackedInt32Array(29, 30, 31, 32), PackedInt32Array(33, 34, 29, 35), PackedInt32Array(36, 37, 9, 38), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(43, 44, 45, 46), PackedInt32Array(47, 48, 49, 50), PackedInt32Array(36, 51, 52, 53, 54), PackedInt32Array(55, 56, 57, 58), PackedInt32Array(34, 33, 59), PackedInt32Array(60, 29, 34, 6), PackedInt32Array(60, 6, 61, 62), PackedInt32Array(63, 34, 59), PackedInt32Array(62, 64, 65, 66), PackedInt32Array(30, 29, 67, 68), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(73, 74, 75, 76), PackedInt32Array(77, 78, 79, 80), PackedInt32Array(81, 82, 83, 84), PackedInt32Array(85, 86, 87, 88), PackedInt32Array(89, 68, 90, 91), PackedInt32Array(92, 60, 62), PackedInt32Array(93, 94, 95, 96, 97), PackedInt32Array(34, 63, 98), PackedInt32Array(99, 34, 98, 100), PackedInt32Array(20, 19, 21, 101), PackedInt32Array(102, 31, 30), PackedInt32Array(102, 30, 103, 104), PackedInt32Array(60, 92, 39), PackedInt32Array(105, 60, 39), PackedInt32Array(70, 73, 76, 106), PackedInt32Array(74, 77, 80, 107), PackedInt32Array(108, 81, 84, 109), PackedInt32Array(110, 57, 56, 111), PackedInt32Array(112, 89, 91, 113), PackedInt32Array(22, 114, 115, 116), PackedInt32Array(5, 8, 117, 0), PackedInt32Array(26, 118, 119, 120), PackedInt32Array(121, 122, 123, 124), PackedInt32Array(115, 114, 125, 126), PackedInt32Array(126, 125, 127, 128), PackedInt32Array(119, 118, 129, 130), PackedInt32Array(123, 122, 131, 132), PackedInt32Array(132, 131, 133, 134), PackedInt32Array(60, 105, 135), PackedInt32Array(136, 60, 135, 137), PackedInt32Array(138, 112, 113, 139), PackedInt32Array(3, 2, 25, 140), PackedInt32Array(137, 141, 142, 143), PackedInt32Array(136, 137, 143), PackedInt32Array(136, 143, 144), PackedInt32Array(141, 105, 39), PackedInt32Array(40, 145, 146, 147), PackedInt32Array(41, 40, 147), PackedInt32Array(41, 147, 148, 21), PackedInt32Array(145, 92, 62), PackedInt32Array(64, 149, 150, 151), PackedInt32Array(65, 64, 151), PackedInt32Array(65, 151, 152, 153), PackedInt32Array(18, 154, 155, 156), PackedInt32Array(19, 18, 156), PackedInt32Array(19, 156, 157), PackedInt32Array(1, 158, 159, 160), PackedInt32Array(2, 1, 160), PackedInt32Array(2, 160, 161), PackedInt32Array(100, 162, 163, 164), PackedInt32Array(99, 100, 164), PackedInt32Array(99, 164, 165), PackedInt32Array(166, 99, 165, 167), PackedInt32Array(162, 63, 59, 168), PackedInt32Array(163, 162, 168, 169), PackedInt32Array(168, 170, 171, 169), PackedInt32Array(167, 163, 169, 172), PackedInt32Array(166, 167, 172), PackedInt32Array(166, 172, 173), PackedInt32Array(174, 175, 176, 177), PackedInt32Array(44, 178, 179, 180), PackedInt32Array(45, 44, 180), PackedInt32Array(45, 180, 181), PackedInt32Array(48, 182, 183, 184), PackedInt32Array(49, 48, 184), PackedInt32Array(49, 184, 185, 103), PackedInt32Array(13, 186, 187, 188), PackedInt32Array(14, 13, 188), PackedInt32Array(14, 188, 121), PackedInt32Array(70, 106, 189, 190, 191), PackedInt32Array(74, 107, 192, 193, 194), PackedInt32Array(108, 109, 195), PackedInt32Array(196, 71, 70), PackedInt32Array(197, 196, 70, 25), PackedInt32Array(198, 196, 197, 199), PackedInt32Array(189, 75, 74), PackedInt32Array(190, 189, 74, 194, 200), PackedInt32Array(192, 79, 78), PackedInt32Array(192, 78, 193), PackedInt32Array(195, 83, 82), PackedInt32Array(201, 87, 86), PackedInt32Array(201, 86, 202), PackedInt32Array(203, 201, 202, 204), PackedInt32Array(205, 206, 38), PackedInt32Array(207, 205, 38, 12), PackedInt32Array(52, 205, 207, 208, 53), PackedInt32Array(86, 53, 208, 209), PackedInt32Array(86, 209, 210, 211, 212), PackedInt32Array(166, 173, 171), PackedInt32Array(213, 214, 58), PackedInt32Array(215, 213, 58, 67), PackedInt32Array(94, 213, 215, 216), PackedInt32Array(95, 94, 216, 217), PackedInt32Array(217, 216, 218), PackedInt32Array(138, 139, 90, 68), PackedInt32Array(138, 68, 67), PackedInt32Array(58, 138, 67), PackedInt32Array(219, 215, 67), PackedInt32Array(22, 116, 128, 127), PackedInt32Array(23, 22, 127), PackedInt32Array(23, 127, 220, 221), PackedInt32Array(221, 220, 222, 223), PackedInt32Array(224, 223, 222), PackedInt32Array(69, 72, 198), PackedInt32Array(27, 26, 120, 225, 226), PackedInt32Array(9, 37, 227, 228), PackedInt32Array(85, 88, 203), PackedInt32Array(229, 104, 103), PackedInt32Array(121, 124, 134, 133), PackedInt32Array(14, 121, 133), PackedInt32Array(14, 133, 230, 231), PackedInt32Array(231, 230, 232, 233), PackedInt32Array(233, 232, 234, 235), PackedInt32Array(15, 14, 235, 234, 236), PackedInt32Array(6, 237, 17), PackedInt32Array(61, 6, 17), PackedInt32Array(149, 61, 17), PackedInt32Array(225, 130, 129), PackedInt32Array(178, 238, 29, 47), PackedInt32Array(29, 239, 47), PackedInt32Array(142, 141, 39), PackedInt32Array(146, 145, 62), PackedInt32Array(150, 149, 17), PackedInt32Array(179, 178, 47), PackedInt32Array(158, 117, 8), PackedInt32Array(153, 152, 240, 241), PackedInt32Array(242, 190, 200, 243, 244), PackedInt32Array(218, 219, 67), PackedInt32Array(182, 239, 29), PackedInt32Array(217, 218, 67), PackedInt32Array(70, 191, 245, 25), PackedInt32Array(29, 238, 43), PackedInt32Array(246, 29, 43), PackedInt32Array(175, 246, 43), PackedInt32Array(176, 175, 43), PackedInt32Array(174, 166, 171, 170, 35), PackedInt32Array(183, 182, 29), PackedInt32Array(247, 217, 67, 110), PackedInt32Array(226, 225, 129), PackedInt32Array(69, 198, 199), PackedInt32Array(85, 203, 204), PackedInt32Array(32, 183, 29), PackedInt32Array(185, 32, 31, 229), PackedInt32Array(185, 229, 103), PackedInt32Array(49, 103, 248, 249), PackedInt32Array(249, 248, 12, 250), PackedInt32Array(29, 246, 35), PackedInt32Array(170, 33, 35), PackedInt32Array(166, 174, 177), PackedInt32Array(166, 177, 251), PackedInt32Array(166, 251, 252, 253, 254), PackedInt32Array(255, 142, 39), PackedInt32Array(255, 39, 256), PackedInt32Array(144, 255, 256, 257), PackedInt32Array(136, 144, 257), PackedInt32Array(136, 257, 258), PackedInt32Array(66, 146, 62), PackedInt32Array(148, 66, 65, 259), PackedInt32Array(240, 150, 17), PackedInt32Array(240, 17, 16), PackedInt32Array(240, 16, 241), PackedInt32Array(153, 241, 101), PackedInt32Array(153, 101, 21), PackedInt32Array(260, 153, 21), PackedInt32Array(259, 260, 21), PackedInt32Array(148, 259, 21), PackedInt32Array(252, 176, 43), PackedInt32Array(252, 43, 253), PackedInt32Array(38, 166, 254, 261), PackedInt32Array(38, 261, 46, 45, 262), PackedInt32Array(263, 179, 47), PackedInt32Array(263, 47, 264), PackedInt32Array(181, 263, 264, 265), PackedInt32Array(45, 181, 265), PackedInt32Array(45, 265, 266, 267), PackedInt32Array(267, 266, 50, 268), PackedInt32Array(269, 41, 21), PackedInt32Array(269, 21, 270), PackedInt32Array(271, 269, 270, 272), PackedInt32Array(154, 237, 6), PackedInt32Array(243, 193, 78), PackedInt32Array(243, 78, 273), PackedInt32Array(243, 273, 244), PackedInt32Array(242, 244, 274), PackedInt32Array(275, 202, 86), PackedInt32Array(276, 275, 86, 212, 277), PackedInt32Array(278, 275, 276, 279), PackedInt32Array(38, 206, 51), PackedInt32Array(36, 38, 51), PackedInt32Array(54, 53, 228, 227), PackedInt32Array(10, 9, 228), PackedInt32Array(10, 228, 85), PackedInt32Array(58, 214, 93), PackedInt32Array(55, 58, 93), PackedInt32Array(97, 55, 93), PackedInt32Array(111, 97, 96), PackedInt32Array(110, 111, 96), PackedInt32Array(110, 96, 247), PackedInt32Array(110, 67, 136, 280), PackedInt32Array(281, 226, 129, 136), PackedInt32Array(69, 199, 282, 136), PackedInt32Array(85, 204, 278), PackedInt32Array(42, 256, 39), PackedInt32Array(258, 42, 41, 283), PackedInt32Array(136, 258, 283, 222), PackedInt32Array(46, 253, 43), PackedInt32Array(38, 262, 284, 12), PackedInt32Array(50, 264, 47), PackedInt32Array(50, 49, 268), PackedInt32Array(267, 268, 250), PackedInt32Array(267, 250, 12), PackedInt32Array(284, 267, 12), PackedInt32Array(210, 207, 12), PackedInt32Array(210, 12, 211), PackedInt32Array(285, 276, 277, 286), PackedInt32Array(159, 158, 8), PackedInt32Array(85, 278, 279), PackedInt32Array(287, 273, 78, 288, 289), PackedInt32Array(155, 154, 6), PackedInt32Array(85, 279, 290, 291), PackedInt32Array(292, 159, 8), PackedInt32Array(292, 8, 293), PackedInt32Array(161, 292, 293, 294), PackedInt32Array(2, 161, 294), PackedInt32Array(2, 294, 295), PackedInt32Array(24, 270, 21), PackedInt32Array(296, 24, 23, 224), PackedInt32Array(296, 224, 222), PackedInt32Array(272, 296, 222), PackedInt32Array(271, 272, 222), PackedInt32Array(283, 271, 222), PackedInt32Array(136, 222, 69), PackedInt32Array(297, 155, 6), PackedInt32Array(297, 6, 298), PackedInt32Array(157, 297, 298, 299), PackedInt32Array(19, 157, 299), PackedInt32Array(19, 299, 300), PackedInt32Array(19, 300, 301, 302, 303), PackedInt32Array(304, 211, 12), PackedInt32Array(304, 12, 305), PackedInt32Array(277, 304, 305, 286), PackedInt32Array(285, 286, 306), PackedInt32Array(285, 306, 307, 308), PackedInt32Array(309, 293, 8), PackedInt32Array(309, 8, 310), PackedInt32Array(295, 309, 310, 311), PackedInt32Array(2, 295, 311), PackedInt32Array(2, 311, 312, 82), PackedInt32Array(301, 298, 6), PackedInt32Array(301, 6, 302), PackedInt32Array(78, 19, 303, 313), PackedInt32Array(307, 305, 12), PackedInt32Array(307, 12, 314), PackedInt32Array(307, 314, 308), PackedInt32Array(285, 308, 236, 234), PackedInt32Array(315, 310, 8), PackedInt32Array(315, 8, 316), PackedInt32Array(312, 315, 316, 317), PackedInt32Array(82, 312, 317), PackedInt32Array(82, 317, 318), PackedInt32Array(319, 302, 6), PackedInt32Array(319, 6, 320), PackedInt32Array(313, 319, 320, 321), PackedInt32Array(78, 313, 321), PackedInt32Array(78, 321, 322), PackedInt32Array(78, 322, 323, 324, 288), PackedInt32Array(15, 314, 12), PackedInt32Array(285, 234, 291, 290), PackedInt32Array(10, 85, 291), PackedInt32Array(10, 291, 280, 325), PackedInt32Array(325, 280, 136, 108), PackedInt32Array(326, 316, 8), PackedInt32Array(326, 8, 327), PackedInt32Array(318, 326, 327, 328), PackedInt32Array(82, 318, 328), PackedInt32Array(82, 328, 329), PackedInt32Array(323, 320, 6), PackedInt32Array(323, 6, 324), PackedInt32Array(330, 327, 8), PackedInt32Array(330, 8, 331), PackedInt32Array(329, 330, 331, 332), PackedInt32Array(82, 329, 332), PackedInt32Array(82, 332, 333), PackedInt32Array(82, 333, 11), PackedInt32Array(195, 82, 11, 334), PackedInt32Array(335, 324, 6), PackedInt32Array(335, 6, 336), PackedInt32Array(289, 335, 336, 337), PackedInt32Array(287, 289, 337), PackedInt32Array(287, 337, 338), PackedInt32Array(287, 338, 7, 339), PackedInt32Array(11, 331, 8), PackedInt32Array(11, 10, 334), PackedInt32Array(195, 334, 340), PackedInt32Array(108, 195, 340), PackedInt32Array(108, 340, 325), PackedInt32Array(129, 108, 136), PackedInt32Array(341, 281, 136), PackedInt32Array(341, 136, 282), PackedInt32Array(341, 282, 28, 27), PackedInt32Array(25, 28, 197), PackedInt32Array(25, 245, 242), PackedInt32Array(25, 242, 274), PackedInt32Array(25, 274, 287), PackedInt32Array(140, 25, 287), PackedInt32Array(339, 140, 287), PackedInt32Array(4, 339, 7), PackedInt32Array(6, 7, 336)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
