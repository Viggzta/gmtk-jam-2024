[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(662, 839, 538, 839, 24, 824, 76, 824, 562, 639, 438, 639, 24, 624, 76, 624, 624, 224, 924, 276, 876, 276, 562, 265, 576, 224, 562, 139, 338, 139, 224, 124, 276, 124, 662, 339, 438, 339, 324, 324, 376, 324, 262, 239, 138, 239, 24, 224, 76, 224, 724, 24, 724, 76, 676, 76, 562, 65, 676, 24, 724, 776, 676, 776, 562, 765, 576, 724, 624, 724, 738, 739, 924, 324, 962, 165, 1106.09, -138.133, 1114.9, 1080.4, 962, 539, 838, 739, 676, 724, 862, 439, 738, 439, 724, 424, 776, 424, -214.75, 1118.58, 62, 965, 538, 965, 724, -24, 738, -61, 738, 165, 724, 524, 724, 476, 738, 665, 124, 324, 124, 276, 138, 465, 724, 824, 738, 965, 924, 376, 876, 376, 624, 324, 676, 324, 676, 476, 662, 465, 676, 424, 962, 765, 924, 824, 924, 776, 62, 565, 124, 524, 176, 524, 338, 565, 324, 576, 276, 576, 148, 152, 176, 124, 324, 176, 276, 176, 924, 224, 438, -61, 438, 65, 424, 24, 424, -24, 338, 265, 324, 224, 338, 465, 324, 524, 324, 476, 438, 765, 424, 724, 424, 676, 524, 924, 524, 876, 924, 524, 862, 539, 876, 524, 962, -61, 724, 576, 676, 576, 624, 524, 624, 476, 676, 524, -193.227, -150.859, -62, 965, 924, 176, 876, 176, 862, 765, 876, 776, 576, 176, 76, 524, 62, 239, 76, 476, 276, 476, 48, 65, 48, 152, 24, 124, 24, 76, -62, 65, -24, 76, 876, 476, 438, 439, 424, 424, 424, 376, 838, 665, 824, 724, 824, 676, 776, 676, -62, 839, 148, 43, 176, 76, 362, 439, 376, 424, 362, 339, 376, 376, 862, 965, 876, 824, 476, 876, 724, 924, 662, 965, 676, 924, 676, 876, 376, 676, 576, 676, 676, -24, 624, 24, 624, -24, 676, 124, 624, 124, 624, 76, 576, 76, 876, 224, 824, 224, 824, 176, 776, 176, 876, 324, 824, 324, 824, 276, 776, 276, 876, 424, 824, 424, 824, 376, 776, 376, 676, 624, 624, 624, 624, 576, 576, 524, 576, 576, 562, 565, 776, 724, 724, 724, 724, 676, 524, 624, 576, 624, 676, 676, 676, 376, 776, 224, 724, 224, 724, 176, -24, 124, 376, 24, 324, 24, 376, -24, 324, -24, 724, 124, 276, 224, 224, 224, 224, 176, 176, 176, 76, 424, 124, 424, 276, 524, 224, 524, 224, 476, 176, 476, 724, 624, 376, 724, 324, 724, 324, 676, 276, 676, 476, 924, 424, 924, 424, 876, 376, 876, 624, 176, 924, 424, 924, 476, 724, 376, 262, 339, 276, 324, 276, 276, 324, 276, 76, 276, 624, 676, 724, 876, 624, 824, 624, 776, 924, 876, 576, 124, 524, 124, 524, 76, 924, 924, 876, 876, 876, 924, 224, 76, 24, 176, -24, 176, 176, 224, 124, 224, 124, 176, 562, -61, 676, 824, 676, 176, 124, 476, 576, 324, 524, 324, 576, 276, 524, 276, 576, 824, 524, 824, 576, 776, 524, 776, 276, 24, 224, 24, 276, -24, 224, -24, 476, 76, 476, 124, 424, 124, 424, 76, 76, 376, 524, 576, 276, 724, 224, 724, 224, 676, 176, 676, -24, 624, 376, 924, 324, 924, 324, 876, -24, 824, 276, 876, 62, 839, 576, 24, 576, -24, 176, -24, 62, -61, 124, 376, 76, 324, -62, 239, -24, 224, 562, 465, 576, 476, 476, 576, 476, 776, 476, 824, 424, 824, 424, 776, 776, 324, 724, 324, 724, 276, 676, 276, 676, 224, 124, 24, 176, 24, 376, 76, 624, 276, 476, 276, 124, 924, 176, 924, 76, 924, 76, 876, 124, 876, 76, 24, 324, 76, 124, -24, 176, 724, 124, 724, 124, 676, 76, 676, 76, 724, 24, 676, 276, 924, 224, 924, 224, 876, 476, 624, 424, 624, 424, 576, 376, 576, 376, 624, 324, 624, 24, 724, 376, 776, -24, 676, 176, 876, -24, 776, -62, 565, 376, 124, 324, 124, 276, 76, 476, 324, 424, 324, 424, 276, 376, 276, 76, 176, -24, 724, 324, 776, 62, 43, 76, -24, -62, -61, 276, 624, 224, 624, 224, 576, 176, 576, 376, 824, 324, 824, 276, 776, 176, 624, 124, 624, 124, 576, 76, 576, 276, 824, 224, 824, 224, 776, 176, 776, 24, 576, -24, 576, 24, 776, 176, 824, 124, 824, 124, 776, 76, 776)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 9, 10, 11, 12), PackedInt32Array(13, 14, 15, 16), PackedInt32Array(17, 18, 19, 20), PackedInt32Array(21, 22, 23, 24), PackedInt32Array(25, 26, 27, 28, 29), PackedInt32Array(30, 31, 32, 33, 34, 35), PackedInt32Array(36, 9, 37, 38, 39, 40), PackedInt32Array(41, 35, 34, 42), PackedInt32Array(43, 44, 45, 46), PackedInt32Array(39, 47, 48, 49), PackedInt32Array(25, 50, 51, 52), PackedInt32Array(53, 54, 44, 55), PackedInt32Array(56, 57, 22, 58), PackedInt32Array(59, 30, 35, 60), PackedInt32Array(61, 62, 63, 64), PackedInt32Array(45, 44, 54, 65, 66, 67), PackedInt32Array(68, 39, 69, 70), PackedInt32Array(71, 72, 73, 74, 75, 76), PackedInt32Array(77, 78, 15, 14, 79, 80), PackedInt32Array(81, 37, 9), PackedInt32Array(82, 83, 84, 85), PackedInt32Array(14, 86, 87, 79), PackedInt32Array(88, 74, 89, 90), PackedInt32Array(5, 91, 92, 93), PackedInt32Array(1, 49, 94, 95), PackedInt32Array(96, 40, 97, 98), PackedInt32Array(38, 37, 99), PackedInt32Array(100, 101, 102, 103, 104), PackedInt32Array(105, 38, 99, 51), PackedInt32Array(106, 48, 47), PackedInt32Array(37, 81, 107), PackedInt32Array(52, 37, 107, 108), PackedInt32Array(109, 68, 70, 110), PackedInt32Array(12, 11, 13, 111), PackedInt32Array(112, 72, 71), PackedInt32Array(112, 71, 113, 114), PackedInt32Array(58, 88, 90, 115), PackedInt32Array(116, 117, 118, 119), PackedInt32Array(120, 116, 119, 121), PackedInt32Array(98, 97, 43, 122), PackedInt32Array(18, 123, 124, 125), PackedInt32Array(126, 41, 127, 128), PackedInt32Array(55, 126, 128, 129), PackedInt32Array(106, 47, 105, 130), PackedInt32Array(78, 77, 131, 132), PackedInt32Array(124, 123, 133, 134), PackedInt32Array(134, 133, 135, 136), PackedInt32Array(137, 109, 110, 138), PackedInt32Array(2, 1, 95, 139), PackedInt32Array(140, 60, 141, 142), PackedInt32Array(142, 141, 0, 143), PackedInt32Array(6, 5, 93, 144), PackedInt32Array(33, 32, 4, 145), PackedInt32Array(146, 29, 147, 148), PackedInt32Array(27, 149, 150, 151), PackedInt32Array(28, 27, 151), PackedInt32Array(28, 151, 152), PackedInt32Array(108, 153, 154, 155), PackedInt32Array(52, 108, 155), PackedInt32Array(52, 155, 156), PackedInt32Array(153, 81, 9), PackedInt32Array(10, 157, 158, 159), PackedInt32Array(11, 10, 159), PackedInt32Array(11, 159, 160), PackedInt32Array(62, 161, 43, 162, 163), PackedInt32Array(63, 62, 163), PackedInt32Array(63, 163, 164, 17), PackedInt32Array(101, 165, 166, 167), PackedInt32Array(102, 101, 167, 168), PackedInt32Array(168, 167, 169, 170), PackedInt32Array(129, 171, 172, 173, 55), PackedInt32Array(174, 175, 55, 173, 176, 4), PackedInt32Array(67, 66, 17, 177), PackedInt32Array(52, 156, 178, 179, 180), PackedInt32Array(120, 121, 181), PackedInt32Array(182, 84, 83), PackedInt32Array(182, 83, 183), PackedInt32Array(184, 182, 183, 185), PackedInt32Array(149, 186, 52), PackedInt32Array(187, 87, 86), PackedInt32Array(188, 187, 86, 21), PackedInt32Array(80, 187, 188, 189), PackedInt32Array(77, 80, 189), PackedInt32Array(77, 189, 190), PackedInt32Array(191, 192, 58), PackedInt32Array(193, 89, 74), PackedInt32Array(193, 74, 194), PackedInt32Array(115, 193, 194, 195), PackedInt32Array(58, 115, 195), PackedInt32Array(58, 195, 196), PackedInt32Array(58, 196, 73), PackedInt32Array(165, 197, 55), PackedInt32Array(198, 92, 91), PackedInt32Array(198, 91, 199), PackedInt32Array(144, 198, 199, 200), PackedInt32Array(6, 144, 200), PackedInt32Array(6, 200, 201), PackedInt32Array(202, 94, 49), PackedInt32Array(202, 49, 203), PackedInt32Array(139, 202, 203, 204), PackedInt32Array(2, 139, 204), PackedInt32Array(2, 204, 205), PackedInt32Array(51, 50, 146), PackedInt32Array(82, 85, 184), PackedInt32Array(206, 111, 13), PackedInt32Array(207, 208, 122, 43, 161), PackedInt32Array(209, 177, 17), PackedInt32Array(18, 125, 136, 135), PackedInt32Array(19, 18, 135), PackedInt32Array(19, 135, 210, 211), PackedInt32Array(211, 210, 21, 212), PackedInt32Array(213, 212, 21, 86), PackedInt32Array(22, 57, 214, 113), PackedInt32Array(215, 145, 4), PackedInt32Array(216, 143, 0), PackedInt32Array(40, 96, 208), PackedInt32Array(207, 40, 208), PackedInt32Array(0, 217, 218), PackedInt32Array(138, 69, 39, 219), PackedInt32Array(28, 152, 220, 221, 222), PackedInt32Array(66, 65, 104, 103), PackedInt32Array(39, 223, 219), PackedInt32Array(138, 219, 224), PackedInt32Array(137, 138, 224), PackedInt32Array(137, 224, 225), PackedInt32Array(137, 225, 223, 39), PackedInt32Array(226, 132, 131), PackedInt32Array(181, 118, 117, 227, 228), PackedInt32Array(77, 190, 229, 230, 231), PackedInt32Array(154, 153, 9), PackedInt32Array(171, 127, 41), PackedInt32Array(150, 149, 52), PackedInt32Array(166, 165, 55), PackedInt32Array(51, 146, 148, 232), PackedInt32Array(82, 184, 185, 105), PackedInt32Array(216, 0, 218, 233), PackedInt32Array(178, 154, 9), PackedInt32Array(178, 9, 179), PackedInt32Array(221, 220, 52, 180, 234, 13), PackedInt32Array(39, 68, 40), PackedInt32Array(60, 137, 39), PackedInt32Array(191, 58, 73, 235), PackedInt32Array(46, 162, 43), PackedInt32Array(164, 46, 45, 209), PackedInt32Array(164, 209, 17), PackedInt32Array(236, 63, 17), PackedInt32Array(236, 17, 237), PackedInt32Array(238, 236, 237, 239, 11), PackedInt32Array(240, 217, 0), PackedInt32Array(240, 0, 241), PackedInt32Array(242, 240, 241, 243, 32), PackedInt32Array(244, 183, 83), PackedInt32Array(244, 83, 245), PackedInt32Array(246, 244, 245, 247), PackedInt32Array(220, 150, 52), PackedInt32Array(83, 28, 222, 248), PackedInt32Array(83, 248, 249, 250, 251), PackedInt32Array(73, 194, 74), PackedInt32Array(73, 72, 235), PackedInt32Array(191, 235, 114), PackedInt32Array(191, 114, 113), PackedInt32Array(252, 191, 113), PackedInt32Array(175, 166, 55), PackedInt32Array(169, 175, 174, 253, 170), PackedInt32Array(254, 199, 91), PackedInt32Array(254, 91, 255), PackedInt32Array(201, 254, 255, 256), PackedInt32Array(6, 201, 256), PackedInt32Array(6, 256, 257, 258), PackedInt32Array(259, 203, 49), PackedInt32Array(259, 49, 260), PackedInt32Array(205, 259, 260, 261), PackedInt32Array(2, 205, 261), PackedInt32Array(262, 2, 261, 263, 264), PackedInt32Array(52, 186, 26), PackedInt32Array(25, 52, 26), PackedInt32Array(147, 29, 28), PackedInt32Array(265, 147, 28), PackedInt32Array(265, 28, 232, 266), PackedInt32Array(148, 266, 232), PackedInt32Array(105, 51, 232), PackedInt32Array(105, 232, 82), PackedInt32Array(105, 185, 246), PackedInt32Array(105, 246, 247), PackedInt32Array(105, 247, 267, 268), PackedInt32Array(58, 192, 269), PackedInt32Array(56, 58, 269), PackedInt32Array(270, 56, 269, 252), PackedInt32Array(270, 252, 113), PackedInt32Array(214, 270, 113), PackedInt32Array(23, 22, 113), PackedInt32Array(23, 113, 271, 272), PackedInt32Array(120, 228, 272, 271, 105), PackedInt32Array(55, 197, 100), PackedInt32Array(53, 55, 100), PackedInt32Array(104, 53, 100), PackedInt32Array(273, 66, 103, 274), PackedInt32Array(170, 273, 274, 168), PackedInt32Array(74, 170, 253, 275), PackedInt32Array(60, 140, 216), PackedInt32Array(59, 60, 216), PackedInt32Array(233, 59, 216), PackedInt32Array(31, 233, 218), PackedInt32Array(32, 31, 218), PackedInt32Array(32, 218, 242), PackedInt32Array(91, 32, 243, 276), PackedInt32Array(91, 276, 277, 278, 279), PackedInt32Array(40, 207, 61), PackedInt32Array(36, 40, 61), PackedInt32Array(157, 36, 61), PackedInt32Array(158, 157, 61), PackedInt32Array(280, 158, 61), PackedInt32Array(280, 61, 281), PackedInt32Array(160, 280, 281, 282), PackedInt32Array(11, 160, 282), PackedInt32Array(11, 282, 283), PackedInt32Array(141, 60, 39), PackedInt32Array(284, 179, 9), PackedInt32Array(284, 9, 8), PackedInt32Array(234, 284, 8, 206), PackedInt32Array(234, 206, 13), PackedInt32Array(249, 221, 13), PackedInt32Array(249, 13, 250), PackedInt32Array(285, 286, 83, 251, 287), PackedInt32Array(64, 281, 61), PackedInt32Array(283, 64, 63, 288), PackedInt32Array(11, 283, 288), PackedInt32Array(11, 288, 238), PackedInt32Array(86, 11, 239, 289), PackedInt32Array(49, 141, 39), PackedInt32Array(49, 48, 290, 291), PackedInt32Array(292, 290, 48), PackedInt32Array(292, 48, 264, 293), PackedInt32Array(294, 293, 264), PackedInt32Array(172, 171, 41), PackedInt32Array(295, 285, 287, 296), PackedInt32Array(286, 245, 83), PackedInt32Array(267, 286, 285, 297), PackedInt32Array(298, 255, 91), PackedInt32Array(298, 91, 299), PackedInt32Array(257, 298, 299, 300), PackedInt32Array(258, 257, 300), PackedInt32Array(258, 300, 301), PackedInt32Array(258, 301, 302, 303), PackedInt32Array(304, 260, 49), PackedInt32Array(304, 49, 305), PackedInt32Array(263, 304, 305, 306), PackedInt32Array(42, 172, 41), PackedInt32Array(176, 42, 34, 215), PackedInt32Array(176, 215, 4), PackedInt32Array(307, 174, 4), PackedInt32Array(307, 4, 308), PackedInt32Array(275, 307, 308, 309), PackedInt32Array(74, 275, 309), PackedInt32Array(74, 309, 310), PackedInt32Array(74, 310, 311, 312, 75), PackedInt32Array(302, 299, 91), PackedInt32Array(313, 302, 91, 279, 314), PackedInt32Array(302, 313, 303), PackedInt32Array(258, 303, 315), PackedInt32Array(291, 305, 49), PackedInt32Array(316, 291, 290, 294), PackedInt32Array(316, 294, 264), PackedInt32Array(306, 316, 264), PackedInt32Array(263, 306, 264), PackedInt32Array(262, 264, 130), PackedInt32Array(317, 262, 130, 105, 318), PackedInt32Array(319, 250, 13), PackedInt32Array(319, 13, 320), PackedInt32Array(287, 319, 320, 296), PackedInt32Array(295, 296, 321, 131), PackedInt32Array(322, 237, 17), PackedInt32Array(322, 17, 323), PackedInt32Array(289, 322, 323, 324), PackedInt32Array(86, 289, 324), PackedInt32Array(86, 324, 325), PackedInt32Array(86, 325, 20, 19, 213), PackedInt32Array(24, 230, 21), PackedInt32Array(326, 24, 23, 227, 117), PackedInt32Array(311, 308, 4), PackedInt32Array(311, 4, 312), PackedInt32Array(277, 241, 0), PackedInt32Array(277, 0, 278), PackedInt32Array(327, 313, 314, 328), PackedInt32Array(16, 320, 13), PackedInt32Array(321, 16, 15, 226), PackedInt32Array(321, 226, 131), PackedInt32Array(295, 131, 329), PackedInt32Array(295, 329, 268, 330), PackedInt32Array(297, 330, 268), PackedInt32Array(267, 297, 268), PackedInt32Array(105, 268, 331), PackedInt32Array(105, 331, 120), PackedInt32Array(20, 323, 17), PackedInt32Array(229, 188, 21), PackedInt32Array(229, 21, 230), PackedInt32Array(117, 77, 231, 326), PackedInt32Array(120, 181, 228), PackedInt32Array(105, 271, 318), PackedInt32Array(332, 312, 4), PackedInt32Array(332, 4, 333), PackedInt32Array(76, 332, 333, 334), PackedInt32Array(71, 76, 334), PackedInt32Array(71, 334, 335, 318), PackedInt32Array(336, 278, 0), PackedInt32Array(336, 0, 337), PackedInt32Array(314, 336, 337, 328), PackedInt32Array(327, 328, 338), PackedInt32Array(339, 333, 4), PackedInt32Array(339, 4, 340), PackedInt32Array(335, 339, 340, 341), PackedInt32Array(318, 335, 341), PackedInt32Array(318, 341, 342), PackedInt32Array(343, 337, 0), PackedInt32Array(343, 0, 344), PackedInt32Array(338, 343, 344, 345), PackedInt32Array(327, 338, 345), PackedInt32Array(327, 345, 346), PackedInt32Array(7, 340, 4), PackedInt32Array(342, 7, 6, 347), PackedInt32Array(318, 342, 347), PackedInt32Array(318, 347, 348), PackedInt32Array(318, 348, 258), PackedInt32Array(318, 258, 315), PackedInt32Array(318, 315, 327), PackedInt32Array(317, 318, 327), PackedInt32Array(349, 317, 327), PackedInt32Array(350, 344, 0), PackedInt32Array(350, 0, 351), PackedInt32Array(346, 350, 351, 352), PackedInt32Array(327, 346, 352), PackedInt32Array(327, 352, 353), PackedInt32Array(349, 327, 353, 3), PackedInt32Array(2, 349, 3), PackedInt32Array(0, 3, 351)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
