[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(738, 639, 638, 639, 24, 624, 76, 624, 724, 576, 676, 576, 262, 565, 438, 565, 562, 139, 438, 139, 24, 124, 76, 124, 456, 439, 438, 439, 24, 424, 76, 424, 962, 339, 838, 339, 624, 324, 676, 324, 224, 724, 324, 776, 276, 776, 162, 765, 176, 724, 338, 839, 138, 839, 124, 824, 176, 824, 162, 239, 38, 239, 24, 224, 76, 224, 524, 824, 576, 824, 740, 851, 656, 851, 562, 839, 962, 465, 1114.9, 1080.4, 962, 739, 924, 624, 924, 576, 424, 224, 424, 176, 438, 365, 824, 824, 824, 776, 838, 739, 838, 965, 324, 724, 324, 676, 338, 639, 924, 276, 876, 276, 624, 224, 676, 224, 424, 276, 376, 276, 124, 224, 176, 224, 740, 948, -214.75, 1118.58, 562, 965, 656, 948, 824, 24, 838, 39, 824, 76, 776, 76, 762, 65, 776, 24, 162, 365, 224, 324, 276, 324, 424, 376, 376, 376, 1106.09, -138.133, 962, 165, 924, 524, 838, 165, 824, 124, 638, -61, 638, 65, 624, 24, 624, -24, 38, 365, 24, 324, 24, 276, 424, 524, 424, 476, 638, 465, 638, 565, 624, 524, 624, 476, 138, 439, 138, 565, 124, 524, 124, 476, 638, 765, 624, 724, 624, 676, 138, 965, 124, 924, 124, 876, 438, 865, 438, 965, 424, 924, 424, 876, 924, 24, 962, 39, 876, 24, 876, -24, 824, -24, 924, 724, 876, 724, 876, 676, 824, 724, 824, 676, 862, 665, 924, 224, 924, 176, 876, 176, 924, 476, 862, 465, 876, 476, 176, 324, 176, 276, 162, 639, 176, 676, 562, 465, 576, 476, 362, 865, 376, 876, 962, 965, 838, 439, 824, 424, 824, 376, 738, 565, 724, 624, 38, 639, 38, 739, 24, 724, 24, 676, 662, 439, 776, 424, 724, 424, 676, 424, 662, 339, 676, 376, -62, 739, -24, 724, 624, 924, 576, 924, 576, 876, 562, 565, 576, 524, 876, 524, 362, 965, 376, 924, 624, 876, 824, 924, 776, 924, 776, 876, 456, 365, 424, 424, 376, 176, 776, 376, 776, 124, 724, 124, 724, 76, 676, 76, 876, 224, 824, 224, 824, 176, 876, 324, 824, 324, 824, 276, 776, 276, 576, 224, 724, 376, 876, 576, 876, 624, 776, 776, 776, 824, 724, 824, 724, 776, 762, 765, 762, -61, 776, -24, 676, 124, 624, 124, 624, 76, 924, -24, 576, 24, 524, 24, 576, -24, 524, -24, 376, 324, 424, 324, 324, 324, 324, 276, 276, 276, -24, 324, 376, 524, 324, 524, 376, 476, 324, 476, 76, 524, 24, 524, 76, 476, 24, 476, 576, 724, 524, 724, 576, 676, 524, 676, 924, 676, 76, 924, 62, 965, -193.227, -150.859, 224, 276, -24, 276, -24, 224, 776, 724, 276, 676, 224, 676, -24, 676, -24, 624, 76, 876, 76, 824, 462, 839, 476, 824, 462, 639, 476, 776, 924, 324, 324, 224, 324, 176, 376, 224, 276, 724, 762, 665, 776, 676, 676, 776, 676, 824, 624, 824, 624, 776, 676, 624, 624, 624, 624, 576, 576, 576, 276, 824, 324, 824, 224, 824, 224, 776, 176, 776, 124, 776, 776, 176, 824, 876, 476, -24, 562, 339, 576, 324, 576, 276, 776, 224, 724, 224, 724, 176, 276, 224, 224, 224, 276, 176, 224, 176, 376, 424, 324, 424, 324, 376, 276, 376, 476, 24, 424, 24, 424, -24, 376, -24, 24, 24, 76, 24, 576, 76, 76, 176, 24, 176, 276, 524, -24, 576, -24, 524, 24, 576, 476, 724, 576, 776, 176, 176, -24, 124, 524, 776, 276, 476, 262, 439, -24, 476, -24, 424, 476, 676, 676, 176, 624, 176, 124, 176, -24, 176, 376, 24, 324, 24, 324, -24, 276, -24, 576, 124, 524, 124, 524, 76, 476, 76, 576, 624, 524, 624, 524, 576, 476, 576, 62, 765, 76, 776, -62, 965, 276, 24, 224, 24, 224, -24, 176, -24, 476, 124, 424, 124, 424, 76, 376, 76, -24, 24, 276, 424, 224, 424, 224, 376, 176, 376, 176, 424, 124, 424, 124, 376, 776, 324, 724, 324, 724, 276, 676, 276, 624, 276, 176, 24, 124, 24, 124, -24, 76, -24, 24, -24, -24, -24, 476, 624, 424, 624, 424, 576, 376, 576, 76, 376, 24, 376, 576, 176, 376, 124, 324, 124, 324, 76, 276, 76, 276, 124, 224, 124, 224, 76, 176, 76, 376, 624, 324, 624, 324, 576, 276, 576, -24, 376, 176, 124, 124, 124, 124, 76, 76, 76, 24, 76, 276, 624, 224, 624, 224, 576, 176, 576, 176, 624, 124, 624, 124, 576, -24, 76, 76, 576)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23, 24), PackedInt32Array(25, 26, 27, 28), PackedInt32Array(29, 30, 31, 32), PackedInt32Array(33, 34, 35, 36, 37), PackedInt32Array(38, 39, 40, 41, 42), PackedInt32Array(43, 44, 9, 45), PackedInt32Array(46, 47, 48, 49), PackedInt32Array(50, 51, 52, 25), PackedInt32Array(53, 54, 55, 56), PackedInt32Array(57, 58, 59, 60), PackedInt32Array(61, 49, 62, 63, 64), PackedInt32Array(65, 66, 67, 68, 69, 70), PackedInt32Array(71, 72, 73, 45, 74, 75), PackedInt32Array(76, 39, 38, 16), PackedInt32Array(77, 76, 16), PackedInt32Array(78, 38, 42), PackedInt32Array(66, 79, 80, 67), PackedInt32Array(81, 82, 83, 84), PackedInt32Array(30, 85, 86, 87), PackedInt32Array(13, 7, 88, 89), PackedInt32Array(90, 91, 92, 93), PackedInt32Array(94, 95, 96, 97), PackedInt32Array(1, 98, 99, 100), PackedInt32Array(26, 101, 102, 103), PackedInt32Array(104, 105, 106, 107), PackedInt32Array(108, 109, 66, 110), PackedInt32Array(111, 110, 66, 65, 112), PackedInt32Array(113, 40, 48, 114), PackedInt32Array(115, 114, 48, 116, 117, 118), PackedInt32Array(76, 77, 109), PackedInt32Array(119, 120, 77, 16), PackedInt32Array(79, 77, 120, 121), PackedInt32Array(38, 78, 122), PackedInt32Array(123, 38, 122, 124), PackedInt32Array(125, 72, 71), PackedInt32Array(125, 71, 29, 126), PackedInt32Array(24, 23, 127, 128), PackedInt32Array(129, 90, 93, 130), PackedInt32Array(131, 104, 107, 132), PackedInt32Array(133, 39, 62, 49), PackedInt32Array(105, 63, 62), PackedInt32Array(17, 134, 135, 136), PackedInt32Array(137, 0, 138, 4), PackedInt32Array(91, 137, 4), PackedInt32Array(139, 140, 141, 142), PackedInt32Array(135, 134, 143, 144), PackedInt32Array(145, 144, 143), PackedInt32Array(146, 145, 143), PackedInt32Array(146, 143, 147, 148), PackedInt32Array(141, 140, 149, 150), PackedInt32Array(151, 64, 63, 152), PackedInt32Array(152, 63, 37, 153), PackedInt32Array(154, 129, 130, 155), PackedInt32Array(118, 123, 124, 156), PackedInt32Array(157, 131, 132, 158), PackedInt32Array(36, 64, 151, 159), PackedInt32Array(160, 49, 61, 161), PackedInt32Array(161, 61, 35, 162), PackedInt32Array(163, 12, 164, 74, 45), PackedInt32Array(10, 9, 44, 165), PackedInt32Array(18, 17, 136, 166, 147), PackedInt32Array(68, 167, 168, 169, 69), PackedInt32Array(82, 69, 169, 170), PackedInt32Array(121, 171, 172, 173, 79), PackedInt32Array(54, 174, 175, 176), PackedInt32Array(55, 54, 176), PackedInt32Array(55, 176, 177, 178), PackedInt32Array(166, 144, 145, 179), PackedInt32Array(156, 78, 42, 180), PackedInt32Array(118, 156, 180), PackedInt32Array(118, 180, 181), PackedInt32Array(182, 183, 35, 184, 185, 186), PackedInt32Array(70, 69, 187, 188), PackedInt32Array(82, 170, 189, 190, 191), PackedInt32Array(76, 109, 108, 192), PackedInt32Array(193, 83, 82), PackedInt32Array(193, 82, 194), PackedInt32Array(195, 193, 194, 196), PackedInt32Array(167, 80, 79), PackedInt32Array(197, 198, 45), PackedInt32Array(197, 45, 199), PackedInt32Array(58, 197, 199, 200), PackedInt32Array(59, 58, 200), PackedInt32Array(59, 200, 201, 29), PackedInt32Array(202, 86, 85), PackedInt32Array(203, 88, 7), PackedInt32Array(203, 7, 204), PackedInt32Array(205, 203, 204, 206), PackedInt32Array(154, 155, 92, 91), PackedInt32Array(207, 96, 95), PackedInt32Array(207, 95, 208), PackedInt32Array(209, 207, 208, 210), PackedInt32Array(211, 99, 98), PackedInt32Array(211, 98, 212), PackedInt32Array(213, 211, 212, 214), PackedInt32Array(118, 181, 41, 215, 115), PackedInt32Array(216, 102, 101, 217), PackedInt32Array(157, 158, 106, 105), PackedInt32Array(157, 105, 62), PackedInt32Array(101, 157, 62), PackedInt32Array(112, 188, 187), PackedInt32Array(81, 84, 195, 218), PackedInt32Array(179, 148, 147), PackedInt32Array(219, 126, 29), PackedInt32Array(31, 30, 87, 220, 221), PackedInt32Array(13, 89, 205), PackedInt32Array(94, 97, 209), PackedInt32Array(1, 100, 213), PackedInt32Array(222, 116, 48, 47, 182, 186), PackedInt32Array(159, 153, 37, 36), PackedInt32Array(52, 51, 223), PackedInt32Array(224, 128, 127, 52), PackedInt32Array(2, 139, 142, 225, 226), PackedInt32Array(27, 26, 103, 227, 228), PackedInt32Array(33, 37, 229, 230), PackedInt32Array(230, 229, 231, 232), PackedInt32Array(16, 233, 53), PackedInt32Array(119, 16, 53), PackedInt32Array(171, 119, 53), PackedInt32Array(40, 113, 215), PackedInt32Array(225, 150, 149), PackedInt32Array(57, 234, 235, 236), PackedInt32Array(21, 20, 224, 237), PackedInt32Array(39, 133, 40), PackedInt32Array(41, 40, 215), PackedInt32Array(238, 118, 117, 239), PackedInt32Array(186, 238, 239, 222), PackedInt32Array(98, 186, 185, 240), PackedInt32Array(98, 240, 241, 242, 243), PackedInt32Array(172, 171, 53), PackedInt32Array(244, 138, 0), PackedInt32Array(244, 0, 245), PackedInt32Array(5, 244, 245, 246), PackedInt32Array(6, 5, 246), PackedInt32Array(6, 246, 247), PackedInt32Array(248, 249, 25), PackedInt32Array(248, 25, 250), PackedInt32Array(22, 248, 250, 251), PackedInt32Array(23, 22, 251), PackedInt32Array(23, 251, 252), PackedInt32Array(23, 252, 28, 27, 253), PackedInt32Array(25, 249, 21), PackedInt32Array(50, 25, 21), PackedInt32Array(237, 50, 21), PackedInt32Array(223, 237, 224), PackedInt32Array(79, 173, 254), PackedInt32Array(46, 255, 162, 35, 183), PackedInt32Array(168, 167, 79), PackedInt32Array(76, 192, 111, 187), PackedInt32Array(111, 112, 187), PackedInt32Array(218, 76, 187, 81), PackedInt32Array(218, 195, 196), PackedInt32Array(218, 196, 256), PackedInt32Array(166, 179, 147), PackedInt32Array(18, 147, 257, 258), PackedInt32Array(258, 257, 8, 259), PackedInt32Array(13, 205, 206), PackedInt32Array(94, 209, 210), PackedInt32Array(1, 213, 214), PackedInt32Array(52, 223, 224), PackedInt32Array(260, 172, 53), PackedInt32Array(260, 53, 261), PackedInt32Array(254, 260, 261, 262), PackedInt32Array(263, 234, 57), PackedInt32Array(263, 57, 264), PackedInt32Array(265, 263, 264, 266), PackedInt32Array(267, 164, 12), PackedInt32Array(267, 12, 268), PackedInt32Array(75, 267, 268, 269), PackedInt32Array(71, 75, 269), PackedInt32Array(71, 269, 270), PackedInt32Array(174, 233, 16), PackedInt32Array(271, 194, 82), PackedInt32Array(271, 82, 272), PackedInt32Array(256, 271, 272, 273), PackedInt32Array(218, 256, 273), PackedInt32Array(218, 273, 274), PackedInt32Array(189, 168, 79), PackedInt32Array(189, 79, 190), PackedInt32Array(275, 276, 82, 191, 277), PackedInt32Array(73, 199, 45), PackedInt32Array(201, 73, 72, 219), PackedInt32Array(201, 219, 29), PackedInt32Array(32, 59, 29), PackedInt32Array(278, 32, 31, 279), PackedInt32Array(280, 204, 7, 6), PackedInt32Array(281, 282, 208, 95, 283), PackedInt32Array(284, 212, 98, 243, 285), PackedInt32Array(45, 198, 57), PackedInt32Array(43, 45, 57), PackedInt32Array(236, 43, 57), PackedInt32Array(165, 236, 235), PackedInt32Array(10, 165, 235), PackedInt32Array(10, 235, 265), PackedInt32Array(10, 265, 266), PackedInt32Array(10, 266, 286, 287), PackedInt32Array(49, 160, 255), PackedInt32Array(46, 49, 255), PackedInt32Array(241, 184, 35), PackedInt32Array(241, 35, 242), PackedInt32Array(284, 285, 34, 288), PackedInt32Array(13, 206, 289, 290), PackedInt32Array(14, 94, 210, 291, 292), PackedInt32Array(1, 214, 293, 231), PackedInt32Array(56, 261, 53), PackedInt32Array(294, 56, 55, 295), PackedInt32Array(60, 264, 57), PackedInt32Array(286, 60, 59, 296), PackedInt32Array(287, 286, 296), PackedInt32Array(287, 296, 278), PackedInt32Array(287, 278, 279), PackedInt32Array(287, 279, 297), PackedInt32Array(34, 242, 35), PackedInt32Array(34, 33, 288), PackedInt32Array(284, 288, 232), PackedInt32Array(284, 232, 231), PackedInt32Array(293, 284, 231), PackedInt32Array(2, 1, 231), PackedInt32Array(2, 231, 52), PackedInt32Array(2, 52, 127), PackedInt32Array(2, 127, 139), PackedInt32Array(226, 225, 149), PackedInt32Array(281, 226, 149, 218), PackedInt32Array(298, 272, 82), PackedInt32Array(298, 82, 299), PackedInt32Array(274, 298, 299, 300), PackedInt32Array(218, 274, 300), PackedInt32Array(218, 300, 301), PackedInt32Array(302, 190, 79), PackedInt32Array(302, 79, 303), PackedInt32Array(277, 302, 303, 304), PackedInt32Array(275, 277, 304), PackedInt32Array(275, 304, 305), PackedInt32Array(79, 254, 262), PackedInt32Array(175, 174, 16), PackedInt32Array(306, 245, 0), PackedInt32Array(306, 0, 307), PackedInt32Array(247, 306, 307, 308), PackedInt32Array(6, 247, 308), PackedInt32Array(6, 308, 309), PackedInt32Array(28, 250, 25), PackedInt32Array(310, 23, 253, 311), PackedInt32Array(217, 310, 311, 228), PackedInt32Array(217, 228, 227), PackedInt32Array(217, 227, 216), PackedInt32Array(217, 101, 62), PackedInt32Array(312, 217, 62), PackedInt32Array(312, 62, 218, 149), PackedInt32Array(313, 299, 82), PackedInt32Array(313, 82, 314), PackedInt32Array(301, 313, 314, 315), PackedInt32Array(218, 301, 315), PackedInt32Array(218, 315, 316), PackedInt32Array(317, 303, 79), PackedInt32Array(318, 317, 79, 8), PackedInt32Array(305, 317, 318, 319), PackedInt32Array(275, 305, 319), PackedInt32Array(275, 319, 320, 321), PackedInt32Array(154, 91, 4), PackedInt32Array(322, 268, 12), PackedInt32Array(322, 12, 323), PackedInt32Array(270, 322, 323, 324), PackedInt32Array(71, 270, 324), PackedInt32Array(71, 324, 325), PackedInt32Array(71, 325, 326, 327, 328), PackedInt32Array(329, 175, 16), PackedInt32Array(329, 16, 330), PackedInt32Array(177, 329, 330, 331), PackedInt32Array(178, 177, 331), PackedInt32Array(178, 331, 332), PackedInt32Array(178, 332, 19, 333), PackedInt32Array(334, 314, 82), PackedInt32Array(334, 82, 335), PackedInt32Array(316, 334, 335, 336), PackedInt32Array(218, 316, 336), PackedInt32Array(218, 336, 337), PackedInt32Array(79, 262, 294), PackedInt32Array(276, 335, 82), PackedInt32Array(337, 276, 275, 338), PackedInt32Array(218, 337, 338), PackedInt32Array(218, 338, 339), PackedInt32Array(218, 339, 321), PackedInt32Array(340, 307, 0), PackedInt32Array(340, 0, 341), PackedInt32Array(309, 340, 341, 342), PackedInt32Array(6, 309, 342), PackedInt32Array(6, 342, 343, 95), PackedInt32Array(79, 294, 295, 8), PackedInt32Array(7, 154, 4), PackedInt32Array(280, 6, 290, 289), PackedInt32Array(14, 13, 290), PackedInt32Array(14, 290, 94), PackedInt32Array(326, 323, 12), PackedInt32Array(326, 12, 327), PackedInt32Array(85, 71, 328, 344), PackedInt32Array(85, 344, 15), PackedInt32Array(202, 85, 15, 345), PackedInt32Array(19, 330, 16), PackedInt32Array(19, 18, 333), PackedInt32Array(178, 333, 259), PackedInt32Array(178, 259, 8), PackedInt32Array(346, 178, 8), PackedInt32Array(295, 346, 8), PackedInt32Array(347, 318, 8), PackedInt32Array(347, 8, 348), PackedInt32Array(320, 347, 348, 349), PackedInt32Array(321, 320, 349), PackedInt32Array(321, 349, 350), PackedInt32Array(351, 348, 8), PackedInt32Array(351, 8, 352), PackedInt32Array(350, 351, 352, 353), PackedInt32Array(321, 350, 353), PackedInt32Array(321, 353, 354), PackedInt32Array(355, 341, 0), PackedInt32Array(355, 0, 356), PackedInt32Array(343, 355, 356, 357), PackedInt32Array(95, 343, 357), PackedInt32Array(95, 357, 358), PackedInt32Array(15, 327, 12), PackedInt32Array(15, 14, 345), PackedInt32Array(202, 345, 359), PackedInt32Array(360, 352, 8), PackedInt32Array(360, 8, 361), PackedInt32Array(354, 360, 361, 362), PackedInt32Array(321, 354, 362), PackedInt32Array(321, 362, 363), PackedInt32Array(321, 363, 11, 364), PackedInt32Array(365, 356, 0), PackedInt32Array(365, 0, 366), PackedInt32Array(358, 365, 366, 367), PackedInt32Array(95, 358, 367), PackedInt32Array(95, 367, 368), PackedInt32Array(95, 368, 369, 370, 371), PackedInt32Array(11, 361, 8), PackedInt32Array(11, 10, 364), PackedInt32Array(321, 364, 372, 218), PackedInt32Array(218, 372, 287), PackedInt32Array(218, 287, 297), PackedInt32Array(218, 297, 221), PackedInt32Array(218, 221, 220), PackedInt32Array(218, 220, 202), PackedInt32Array(218, 202, 359), PackedInt32Array(218, 359, 292), PackedInt32Array(218, 292, 291), PackedInt32Array(218, 291, 282), PackedInt32Array(281, 218, 282), PackedInt32Array(369, 366, 0), PackedInt32Array(369, 0, 370), PackedInt32Array(95, 371, 373), PackedInt32Array(283, 95, 373), PackedInt32Array(283, 373, 3, 2), PackedInt32Array(0, 3, 370)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
