[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(738, 465, 738, 539, 724, 524, 724, 476, 662, 465, 676, 476, 662, 539, 676, 524, 924, 176, 876, 176, 162, 165, 338, 165, 762, 239, 638, 239, 124, 224, 176, 224, 962, 739, 838, 739, 524, 724, 576, 724, 362, 839, 238, 839, 124, 824, 176, 824, 238, 339, 38, 339, 24, 324, 76, 324, 24, 424, 24, 376, 38, 565, 524, 824, 524, 776, 538, 739, 538, 965, 924, 624, 924, 676, 876, 676, 862, 665, 876, 624, 1114.9, 1080.4, -214.75, 1118.58, 362, 965, 524, 424, 524, 376, 538, 365, 538, 565, 724, 224, 776, 224, 924, 276, 876, 276, 524, 476, 476, 476, 324, 424, 376, 424, 324, 824, 376, 824, 524, 876, 476, 876, 738, 165, 540, 148, 624, 124, 676, 124, 238, 965, 576, 124, 924, 424, 924, 376, 1106.09, -138.133, 924, 324, 638, -61, 638, 65, 624, 24, 624, -24, 738, 65, 724, 124, 724, 76, 238, -61, 238, 65, 224, 24, 224, -24, 338, 65, 324, 124, 324, 76, 438, 239, 438, 365, 424, 324, 424, 276, 638, 565, 638, 665, 624, 624, 624, 576, 924, 224, 24, 624, 56, 639, -62, 639, -24, 624, 924, 124, 838, 851, 824, 824, 824, 776, 924, 76, 924, 24, 676, 76, 276, 76, 476, 376, 576, 576, 38, -61, 38, 39, 24, 24, 24, -24, 638, 339, 624, 324, 624, 276, 238, 239, 224, 324, 224, 276, -62, 39, -24, 24, 562, 339, 576, 324, 562, 239, 576, 276, 924, -24, 756, 851, 756, 948, 724, 924, 724, 876, 356, 651, 356, 748, 324, 724, 324, 676, 156, 851, 156, 948, 124, 924, 124, 876, 540, 51, 576, 76, 776, 824, 724, 824, 776, 776, 476, 776, 440, 748, 476, 724, 56, 565, 24, 576, 362, 365, 376, 324, 424, 376, 376, 376, 362, 239, 376, 276, 862, 165, 876, 124, 862, -61, 876, 76, 876, 24, 876, -24, 462, 165, 462, 148, -62, 165, -44, 165, -44, 248, 876, 224, 824, 224, 824, 176, 776, 176, 876, 324, 824, 324, 824, 276, 876, 376, 824, 376, 876, 424, 862, 439, 824, 424, 776, 324, 776, 376, 62, 648, 138, 648, 138, 665, 124, 676, 76, 676, 876, 724, 824, 724, 824, 676, 776, 676, 724, 776, 676, 824, 676, 876, 838, 948, 838, 965, 662, 965, 676, 924, 662, 739, 676, 776, 238, 851, 76, 824, 76, 876, 62, 865, 238, 948, 24, 924, 76, 924, -24, 924, 624, 76, 276, 124, 224, 124, 224, 76, 476, 424, 576, 624, 524, 624, 524, 576, 576, 24, 524, 24, 576, -24, 524, -24, 462, 51, 476, 24, 462, -61, 476, -24, 176, 24, 176, 76, -24, 524, 24, 524, -24, 576, 476, 524, 524, 524, 424, 524, 424, 476, 376, 476, 276, 424, 324, 524, 376, 524, 476, 576, 476, 924, 524, 924, 424, 924, 424, 876, 176, -24, 162, -61, -24, -24, -193.227, -150.859, 176, 276, -24, 376, -24, 324, 924, 724, 424, 424, 424, 824, 424, 776, 476, 824, 962, 965, 924, 576, 876, 576, 176, 324, 124, 324, 124, 276, 76, 224, 76, 276, 324, 476, -24, 876, -62, 865, 276, 676, 276, 724, 224, 724, 224, 676, 24, 876, 440, 651, 476, 676, 524, 676, 724, 176, 676, 176, 324, 376, 376, 776, 324, 776, 924, 524, 876, 524, 876, 476, 924, 476, 176, 124, 276, 476, 476, 624, 424, 624, 424, 576, 376, 576, 276, 524, 376, 624, 324, 576, 376, 924, 762, 439, 776, 424, 776, 276, 676, 224, 624, 224, 624, 176, 576, 176, 24, 476, -24, 424, -24, 476, 262, 365, 276, 376, 262, 665, 124, 724, 176, 724, 276, 776, 76, 724, 224, 776, 376, 876, 276, 824, 224, 824, 176, 776, 124, 776, 324, 624, 624, 676, 576, 676, 276, 576, 276, 624, 176, 676, 24, 276, 40, 248, -24, 276, 576, 224, 524, 224, 524, 176, 476, 176, 776, 724, 724, 724, 724, 676, 676, 676, 676, 724, 624, 724, 76, 776, 476, 224, 424, 224, 424, 176, 376, 176, 40, 165, 376, 224, 324, 224, 324, 176, 276, 176, 276, 224, 224, 224, 224, 176, 176, 176, 124, 176, 76, 176)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(2, 1, 6, 7), PackedInt32Array(7, 6, 4, 5), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23), PackedInt32Array(24, 25, 26, 27), PackedInt32Array(28, 29, 25, 30), PackedInt32Array(31, 32, 33, 34), PackedInt32Array(35, 36, 37, 38, 39), PackedInt32Array(40, 41, 42, 34), PackedInt32Array(43, 44, 45, 46), PackedInt32Array(47, 48, 49, 50, 12), PackedInt32Array(51, 52, 53, 54), PackedInt32Array(55, 56, 57, 58, 20), PackedInt32Array(59, 60, 61, 62), PackedInt32Array(63, 42, 41), PackedInt32Array(64, 61, 60), PackedInt32Array(65, 66, 67, 40), PackedInt32Array(68, 67, 66), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(73, 59, 74, 75), PackedInt32Array(76, 77, 78, 79), PackedInt32Array(80, 11, 81, 82), PackedInt32Array(83, 84, 85, 86), PackedInt32Array(87, 88, 89, 90), PackedInt32Array(67, 68, 49), PackedInt32Array(91, 67, 49), PackedInt32Array(92, 93, 94, 95), PackedInt32Array(67, 91, 8), PackedInt32Array(96, 67, 8), PackedInt32Array(17, 97, 98, 99), PackedInt32Array(67, 96, 100), PackedInt32Array(101, 67, 100), PackedInt32Array(70, 73, 75, 102), PackedInt32Array(77, 80, 82, 103), PackedInt32Array(84, 45, 44, 104), PackedInt32Array(46, 87, 90, 105), PackedInt32Array(106, 107, 108, 109), PackedInt32Array(13, 110, 111, 112), PackedInt32Array(113, 24, 114, 115), PackedInt32Array(108, 107, 116, 117), PackedInt32Array(111, 110, 118, 119), PackedInt32Array(119, 118, 120, 121), PackedInt32Array(67, 101, 122), PackedInt32Array(123, 124, 125, 126), PackedInt32Array(127, 128, 129, 130), PackedInt32Array(131, 132, 133, 134), PackedInt32Array(64, 60, 135, 136), PackedInt32Array(98, 97, 123, 137), PackedInt32Array(138, 139, 137, 123, 126), PackedInt32Array(18, 33, 32, 140, 141, 142), PackedInt32Array(143, 93, 92, 144, 30), PackedInt32Array(145, 146, 85, 84, 147, 148), PackedInt32Array(146, 145, 149, 150), PackedInt32Array(96, 8, 151, 152), PackedInt32Array(152, 151, 153, 154), PackedInt32Array(155, 101, 100, 154), PackedInt32Array(155, 154, 153), PackedInt32Array(156, 155, 153), PackedInt32Array(157, 158, 60, 59), PackedInt32Array(159, 160, 161), PackedInt32Array(9, 162, 163, 164), PackedInt32Array(10, 9, 164), PackedInt32Array(10, 164, 165), PackedInt32Array(162, 91, 49), PackedInt32Array(50, 166, 167, 168), PackedInt32Array(166, 68, 66, 169), PackedInt32Array(167, 166, 169, 170), PackedInt32Array(169, 171, 172, 173, 170), PackedInt32Array(174, 167, 170, 175), PackedInt32Array(176, 177, 178, 179, 180), PackedInt32Array(37, 181, 182, 183, 38), PackedInt32Array(88, 38, 183, 184), PackedInt32Array(139, 138, 185), PackedInt32Array(186, 138, 126, 187), PackedInt32Array(124, 188, 189, 190), PackedInt32Array(125, 124, 190, 191), PackedInt32Array(191, 190, 192, 187), PackedInt32Array(186, 187, 192), PackedInt32Array(193, 186, 192), PackedInt32Array(21, 194, 131, 22), PackedInt32Array(195, 22, 131, 134, 196, 197), PackedInt32Array(132, 198, 63, 41), PackedInt32Array(132, 41, 199, 200), PackedInt32Array(201, 199, 41), PackedInt32Array(70, 102, 62, 61, 202), PackedInt32Array(77, 103, 203, 204, 205), PackedInt32Array(84, 104, 206, 147), PackedInt32Array(46, 105, 207, 208, 209), PackedInt32Array(210, 71, 70), PackedInt32Array(211, 210, 70, 202, 136, 135), PackedInt32Array(212, 210, 211, 213), PackedInt32Array(62, 74, 59), PackedInt32Array(211, 135, 214, 215), PackedInt32Array(215, 214, 216, 217), PackedInt32Array(218, 78, 77, 205, 219), PackedInt32Array(203, 81, 11), PackedInt32Array(203, 11, 204), PackedInt32Array(220, 221, 30, 144, 222), PackedInt32Array(223, 224, 46), PackedInt32Array(223, 46, 225), PackedInt32Array(52, 223, 225, 226), PackedInt32Array(53, 52, 226), PackedInt32Array(53, 226, 227, 228), PackedInt32Array(207, 89, 88), PackedInt32Array(207, 88, 208), PackedInt32Array(229, 230, 46, 209, 231), PackedInt32Array(232, 233, 34), PackedInt32Array(232, 34, 234), PackedInt32Array(58, 232, 234, 235), PackedInt32Array(122, 156, 153, 67), PackedInt32Array(69, 72, 212), PackedInt32Array(213, 217, 216, 69), PackedInt32Array(76, 79, 236, 237), PackedInt32Array(106, 109, 238, 239), PackedInt32Array(13, 112, 121, 120), PackedInt32Array(14, 13, 120), PackedInt32Array(14, 120, 83), PackedInt32Array(83, 86, 150, 149), PackedInt32Array(14, 83, 149), PackedInt32Array(14, 149, 113), PackedInt32Array(14, 113, 115, 240), PackedInt32Array(26, 25, 29, 241, 242), PackedInt32Array(17, 99, 139), PackedInt32Array(185, 193, 192, 17), PackedInt32Array(238, 117, 116, 239), PackedInt32Array(16, 243, 36), PackedInt32Array(222, 95, 94), PackedInt32Array(239, 67, 153, 69), PackedInt32Array(51, 244, 147, 206), PackedInt32Array(57, 245, 246, 247), PackedInt32Array(40, 248, 16), PackedInt32Array(40, 16, 35, 249), PackedInt32Array(35, 16, 36), PackedInt32Array(39, 38, 172, 250), PackedInt32Array(141, 140, 247, 246), PackedInt32Array(163, 162, 49), PackedInt32Array(251, 114, 24), PackedInt32Array(251, 24, 252), PackedInt32Array(240, 251, 252, 253), PackedInt32Array(14, 240, 253, 254), PackedInt32Array(254, 253, 255), PackedInt32Array(228, 227, 230, 256), PackedInt32Array(257, 201, 41, 258), PackedInt32Array(127, 130, 259), PackedInt32Array(189, 248, 40), PackedInt32Array(260, 129, 128), PackedInt32Array(260, 128, 261), PackedInt32Array(259, 260, 261, 262), PackedInt32Array(200, 133, 132), PackedInt32Array(196, 200, 199, 263, 197), PackedInt32Array(220, 222, 94), PackedInt32Array(69, 212, 213), PackedInt32Array(239, 69, 216), PackedInt32Array(239, 216, 76), PackedInt32Array(17, 139, 185), PackedInt32Array(18, 17, 192), PackedInt32Array(18, 192, 33), PackedInt32Array(142, 141, 264, 265), PackedInt32Array(266, 265, 264), PackedInt32Array(48, 163, 49), PackedInt32Array(165, 48, 47, 267), PackedInt32Array(10, 165, 267), PackedInt32Array(10, 267, 268), PackedInt32Array(54, 244, 51), PackedInt32Array(148, 54, 53, 269, 145), PackedInt32Array(56, 245, 57), PackedInt32Array(270, 56, 55, 271, 128), PackedInt32Array(272, 40, 249), PackedInt32Array(273, 272, 249, 250), PackedInt32Array(273, 250, 172), PackedInt32Array(274, 273, 172), PackedInt32Array(65, 275, 274, 172, 171), PackedInt32Array(190, 189, 40), PackedInt32Array(181, 243, 16), PackedInt32Array(276, 204, 11, 10), PackedInt32Array(230, 225, 46), PackedInt32Array(230, 229, 256), PackedInt32Array(228, 256, 277), PackedInt32Array(278, 208, 88), PackedInt32Array(278, 88, 279), PackedInt32Array(231, 278, 279, 280), PackedInt32Array(229, 231, 280), PackedInt32Array(229, 280, 281, 282), PackedInt32Array(282, 281, 283, 284), PackedInt32Array(285, 234, 34, 42), PackedInt32Array(40, 272, 275), PackedInt32Array(65, 40, 275), PackedInt32Array(173, 172, 286, 287), PackedInt32Array(287, 286, 12, 175), PackedInt32Array(174, 175, 12), PackedInt32Array(288, 174, 12), PackedInt32Array(168, 288, 12), PackedInt32Array(50, 168, 12), PackedInt32Array(289, 47, 12), PackedInt32Array(289, 12, 290), PackedInt32Array(268, 289, 290, 291), PackedInt32Array(10, 268, 291), PackedInt32Array(10, 291, 292), PackedInt32Array(30, 221, 293), PackedInt32Array(28, 30, 293), PackedInt32Array(294, 28, 293, 295), PackedInt32Array(46, 224, 51), PackedInt32Array(43, 46, 51), PackedInt32Array(206, 43, 51), PackedInt32Array(296, 145, 269, 297), PackedInt32Array(298, 296, 297, 228), PackedInt32Array(298, 228, 277), PackedInt32Array(298, 277, 282), PackedInt32Array(34, 233, 57), PackedInt32Array(31, 34, 57), PackedInt32Array(247, 31, 57), PackedInt32Array(128, 141, 246, 270), PackedInt32Array(299, 300, 128, 271, 301), PackedInt32Array(302, 299, 301, 303), PackedInt32Array(295, 220, 94), PackedInt32Array(127, 259, 262, 298), PackedInt32Array(34, 190, 40), PackedInt32Array(285, 42, 20, 304), PackedInt32Array(235, 304, 20), PackedInt32Array(58, 235, 20), PackedInt32Array(305, 55, 20), PackedInt32Array(305, 20, 306), PackedInt32Array(301, 305, 306, 303), PackedInt32Array(302, 303, 307), PackedInt32Array(302, 307, 23, 308), PackedInt32Array(294, 295, 94), PackedInt32Array(283, 279, 88), PackedInt32Array(309, 283, 88, 310, 311, 264), PackedInt32Array(283, 309, 284), PackedInt32Array(282, 284, 312), PackedInt32Array(298, 282, 312), PackedInt32Array(298, 312, 313), PackedInt32Array(298, 313, 309, 127), PackedInt32Array(300, 261, 128), PackedInt32Array(314, 300, 299, 179, 178), PackedInt32Array(59, 151, 8), PackedInt32Array(241, 294, 94), PackedInt32Array(182, 181, 16), PackedInt32Array(242, 241, 94), PackedInt32Array(27, 252, 24), PackedInt32Array(255, 27, 26, 315), PackedInt32Array(254, 255, 315, 316), PackedInt32Array(317, 242, 94, 161), PackedInt32Array(318, 290, 12), PackedInt32Array(318, 12, 319), PackedInt32Array(292, 318, 319, 320), PackedInt32Array(10, 292, 320), PackedInt32Array(10, 320, 321), PackedInt32Array(322, 182, 16), PackedInt32Array(322, 16, 323), PackedInt32Array(184, 322, 323, 324), PackedInt32Array(88, 184, 324), PackedInt32Array(88, 324, 325), PackedInt32Array(88, 325, 326, 327, 310), PackedInt32Array(23, 306, 20), PackedInt32Array(23, 22, 308), PackedInt32Array(302, 308, 328), PackedInt32Array(329, 319, 12), PackedInt32Array(329, 12, 330), PackedInt32Array(321, 329, 330, 331), PackedInt32Array(10, 321, 331), PackedInt32Array(10, 331, 332, 333), PackedInt32Array(326, 323, 16), PackedInt32Array(326, 16, 327), PackedInt32Array(157, 59, 8), PackedInt32Array(334, 330, 12), PackedInt32Array(334, 12, 335), PackedInt32Array(332, 334, 335, 336), PackedInt32Array(333, 332, 336), PackedInt32Array(333, 336, 337), PackedInt32Array(19, 327, 16), PackedInt32Array(311, 19, 18, 266), PackedInt32Array(311, 266, 264), PackedInt32Array(309, 264, 127), PackedInt32Array(178, 298, 262, 314), PackedInt32Array(197, 176, 180, 302), PackedInt32Array(197, 302, 328), PackedInt32Array(197, 328, 195), PackedInt32Array(258, 197, 263, 257), PackedInt32Array(258, 41, 239, 94), PackedInt32Array(338, 335, 12), PackedInt32Array(338, 12, 339), PackedInt32Array(337, 338, 339, 340), PackedInt32Array(333, 337, 340), PackedInt32Array(333, 340, 341), PackedInt32Array(15, 339, 12), PackedInt32Array(341, 15, 14, 342), PackedInt32Array(333, 341, 342), PackedInt32Array(333, 342, 343), PackedInt32Array(316, 333, 343, 254), PackedInt32Array(161, 316, 315, 317), PackedInt32Array(161, 94, 239, 159), PackedInt32Array(116, 159, 239), PackedInt32Array(237, 106, 239), PackedInt32Array(237, 239, 76), PackedInt32Array(10, 237, 236, 218), PackedInt32Array(10, 218, 219), PackedInt32Array(10, 219, 276), PackedInt32Array(8, 11, 157)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
