[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(838, 565, 838, 639, 824, 624, 824, 576, 762, 565, 776, 576, 762, 639, 776, 624, 924, 776, 876, 776, 262, 765, 338, 765, 524, 376, 476, 376, 62, 365, 138, 365, 748, 843, 648, 843, 224, 824, 276, 824, 424, 76, 376, 76, 162, 65, 176, 24, 224, 24, 438, 39, 824, 276, 776, 276, 562, 265, 576, 224, 624, 224, 838, 239, 962, 239, 676, 224, 562, 39, 276, 24, 362, 439, 238, 439, 24, 424, 76, 424, 438, 239, 338, 239, 124, 224, 176, 224, 924, 124, 924, 176, 876, 176, 762, 165, 876, 124, 662, 339, 538, 339, 524, 324, 576, 324, 262, 639, 138, 639, 124, 624, 176, 624, 424, 176, 376, 176, 24, 124, 76, 124, 638, 639, 538, 639, 524, 624, 576, 624, 876, 924, 924, 924, 748, 952, 624, 24, 624, -24, 638, -61, 638, 165, 424, 124, 962, 765, 1114.9, 1080.4, 924, 824, 824, 924, 324, 624, 324, 576, 338, 565, 24, 824, 24, 776, 38, 765, 38, 965, 924, 876, 876, 876, 724, 824, 776, 824, 838, 365, 824, 324, 338, 365, 324, 324, 324, 276, 538, 465, 524, 424, 138, 239, 124, 324, 124, 276, 538, 765, 524, 724, 524, 676, 738, 665, 738, 765, 724, 724, 724, 676, 238, 565, 224, 524, 224, 476, 776, 924, 924, 524, 962, 539, 862, 539, 876, 524, 1106.09, -138.133, 824, 424, 848, 439, 738, 439, 776, 424, 776, 376, 724, 424, 724, 376, 924, 76, 924, 24, 662, 665, 676, 676, 276, 576, -62, 765, -24, 776, 548, 465, 548, 552, 524, 524, 524, 476, 648, 952, 624, 924, 624, 876, -214.75, 1118.58, 162, 965, 862, 452, 876, 476, 738, 539, 724, 524, 724, 476, 638, 552, 624, 624, 624, 576, 138, 739, 124, 724, 124, 676, 776, 876, 648, 539, 676, 524, 62, 739, 76, 724, 62, 439, 76, 676, 924, -24, 324, 424, 376, 424, 476, 476, 662, 765, 676, 724, 576, 876, 848, 365, 824, 376, 624, 324, 676, 324, 948, 452, 924, 476, 576, 576, 676, 476, 648, 465, 662, 465, 576, 176, 162, -61, 176, -24, 176, 476, 876, -24, 876, 24, 824, 24, 824, -24, 876, 76, 824, 76, 824, 124, 776, 24, 776, 76, 948, 365, 962, 365, 876, 224, 824, 224, 824, 176, 776, 176, 776, 324, 724, 324, 724, 276, 676, 276, 76, 224, 62, 239, 48, 239, 48, 143, 76, 176, -52, 143, -52, 239, -62, 239, 876, 824, 824, 824, 824, 776, 776, 776, 824, 876, 276, 624, -24, 824, 576, 124, 624, 124, 276, 324, 262, 365, 76, 324, 476, 424, 424, 424, 424, 376, 376, 376, 476, 724, 462, 765, 176, 524, 124, 524, 124, 476, 276, 724, 324, 724, -24, 924, 24, 924, 576, -24, -193.227, -150.859, 224, -24, 276, 276, 262, 239, 676, 424, 676, 376, 76, 276, 476, 676, 476, 624, 76, 624, 76, 576, 924, 224, 776, 124, 762, -61, 776, -24, 576, 24, 524, 24, 524, -24, 224, 624, 224, 576, 476, 324, 462, 365, 324, 124, 324, 76, 376, 124, 776, 224, 724, 224, 724, 176, 476, 524, 424, 524, 424, 476, 524, 576, 576, 924, 524, 924, 524, 876, 476, 876, 376, 224, 424, 224, 324, 224, 324, 176, 276, 176, -24, 124, 476, 576, 462, 539, 276, 76, 676, 824, 624, 824, 676, 776, 624, 776, 276, 124, 224, 124, 224, 76, 176, 76, 176, 124, 124, 124, 124, 76, 724, 776, 576, 776, 476, 24, 424, 24, 476, -24, 424, -24, 576, 276, 524, 276, 176, 576, 124, 576, 624, 276, 462, 265, 476, 276, 324, 376, 276, 376, -62, 365, 76, 524, 624, 76, 576, 76, 324, 676, 276, 676, 24, 876, -24, 876, -62, 65, 76, 76, 376, 524, 476, 924, 424, 924, 424, 876, 376, 876, 176, 824, 24, 76, -24, 76, 576, 824, 524, 824, 524, 776, 476, 776, 276, 224, 224, 224, 224, 176, 176, 176, 376, 924, 324, 924, 324, 876, 276, 876, 276, 924, 224, 876, 676, 176, 624, 176, 376, 24, 324, 24, 376, -24, 324, -24, 176, 424, 224, 424, 124, 424, 176, 376, 124, 376, 224, 924, 176, 876, 476, 824, 424, 824, 424, 776, 376, 776, 162, 765, 124, 176, 176, 924, 276, -24, -62, -61, 76, 376, 24, 376, 376, 824, 324, 824, 324, 776, 276, 776, 224, 776, 176, 776, -62, 439, 362, 539, 376, 476, 276, 424, 224, 376, -24, 376, -24, 424, 76, 476)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(2, 1, 6, 7), PackedInt32Array(7, 6, 4, 5), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23, 24, 25), PackedInt32Array(26, 27, 28, 29, 30, 31), PackedInt32Array(32, 31, 30, 33), PackedInt32Array(34, 25, 24, 35), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(40, 41, 42, 43), PackedInt32Array(44, 45, 46, 47, 48), PackedInt32Array(49, 50, 51, 52), PackedInt32Array(53, 54, 55, 56), PackedInt32Array(57, 58, 59, 60), PackedInt32Array(61, 62, 63, 64), PackedInt32Array(65, 66, 67), PackedInt32Array(68, 69, 70, 71), PackedInt32Array(72, 20, 25, 40), PackedInt32Array(73, 74, 75, 8), PackedInt32Array(76, 65, 67), PackedInt32Array(77, 78, 79, 11), PackedInt32Array(80, 81, 82, 83), PackedInt32Array(84, 85, 86, 87), PackedInt32Array(31, 88, 89, 26), PackedInt32Array(41, 90, 91, 92), PackedInt32Array(50, 93, 94, 12), PackedInt32Array(95, 15, 96, 97), PackedInt32Array(62, 98, 99, 100), PackedInt32Array(101, 102, 103, 104), PackedInt32Array(37, 105, 106, 107), PackedInt32Array(108, 76, 67), PackedInt32Array(109, 110, 111, 112), PackedInt32Array(113, 74, 73, 110), PackedInt32Array(114, 115, 116, 117), PackedInt32Array(118, 117, 116, 119, 120), PackedInt32Array(102, 73, 8), PackedInt32Array(44, 121, 113, 32), PackedInt32Array(122, 113, 121), PackedInt32Array(123, 101, 104, 124), PackedInt32Array(105, 79, 78, 125), PackedInt32Array(126, 82, 81, 127), PackedInt32Array(128, 129, 130, 131, 93), PackedInt32Array(17, 132, 133, 134), PackedInt32Array(66, 74, 135, 67), PackedInt32Array(132, 67, 135, 136), PackedInt32Array(112, 111, 137, 138), PackedInt32Array(116, 139, 140, 141), PackedInt32Array(142, 61, 143, 144), PackedInt32Array(54, 145, 146, 147), PackedInt32Array(108, 67, 16, 148), PackedInt32Array(140, 139, 149, 150), PackedInt32Array(146, 145, 151, 152), PackedInt32Array(152, 151, 153, 154), PackedInt32Array(113, 122, 155), PackedInt32Array(156, 157, 93, 131, 158, 36), PackedInt32Array(159, 123, 124, 160), PackedInt32Array(18, 17, 134, 161), PackedInt32Array(162, 115, 114, 163, 88), PackedInt32Array(164, 165, 88, 163, 118, 49), PackedInt32Array(138, 137, 166, 167), PackedInt32Array(129, 142, 144, 168), PackedInt32Array(169, 150, 149, 170, 171), PackedInt32Array(29, 28, 34, 172), PackedInt32Array(23, 22, 173, 174), PackedInt32Array(38, 37, 107, 175, 153), PackedInt32Array(176, 177, 178, 179), PackedInt32Array(177, 122, 121, 180), PackedInt32Array(178, 177, 180, 181), PackedInt32Array(180, 48, 182, 181), PackedInt32Array(183, 178, 181, 184), PackedInt32Array(166, 185, 186), PackedInt32Array(46, 187, 188, 189), PackedInt32Array(47, 46, 189), PackedInt32Array(47, 189, 190), PackedInt32Array(27, 191, 192, 193), PackedInt32Array(28, 27, 193), PackedInt32Array(28, 193, 194), PackedInt32Array(195, 196, 197, 198, 199), PackedInt32Array(200, 201, 202), PackedInt32Array(9, 203, 204, 205), PackedInt32Array(10, 9, 205), PackedInt32Array(10, 205, 206), PackedInt32Array(85, 65, 76, 207), PackedInt32Array(86, 85, 207, 16), PackedInt32Array(105, 125, 208), PackedInt32Array(126, 127, 209), PackedInt32Array(210, 211, 71), PackedInt32Array(212, 91, 90, 213), PackedInt32Array(191, 89, 88), PackedInt32Array(214, 96, 15, 14), PackedInt32Array(215, 94, 93), PackedInt32Array(215, 93, 216), PackedInt32Array(13, 215, 216, 217), PackedInt32Array(14, 13, 217), PackedInt32Array(14, 217, 218), PackedInt32Array(219, 99, 98, 220), PackedInt32Array(159, 160, 103, 102), PackedInt32Array(221, 106, 105), PackedInt32Array(221, 105, 222), PackedInt32Array(175, 221, 222, 223), PackedInt32Array(224, 225, 11, 10), PackedInt32Array(226, 227, 83, 135), PackedInt32Array(70, 69, 228, 229), PackedInt32Array(230, 174, 173), PackedInt32Array(41, 92, 231, 232), PackedInt32Array(233, 119, 116, 141, 169, 171), PackedInt32Array(233, 171, 49, 234), PackedInt32Array(120, 234, 49), PackedInt32Array(195, 42, 95, 97, 235, 196), PackedInt32Array(63, 62, 100, 236, 237), PackedInt32Array(55, 54, 147, 154, 238), PackedInt32Array(238, 154, 153), PackedInt32Array(239, 238, 153), PackedInt32Array(110, 109, 167, 166), PackedInt32Array(113, 110, 166, 186), PackedInt32Array(113, 186, 32), PackedInt32Array(32, 240, 45), PackedInt32Array(44, 32, 45), PackedInt32Array(182, 48, 47), PackedInt32Array(241, 182, 47), PackedInt32Array(241, 47, 242, 184), PackedInt32Array(183, 184, 242), PackedInt32Array(243, 183, 242), PackedInt32Array(179, 243, 242), PackedInt32Array(244, 34, 245, 246, 228), PackedInt32Array(53, 247, 248, 105), PackedInt32Array(249, 51, 50, 12, 250), PackedInt32Array(57, 251, 252, 253), PackedInt32Array(203, 75, 74, 84), PackedInt32Array(47, 190, 254, 255, 256), PackedInt32Array(74, 66, 84), PackedInt32Array(207, 148, 16), PackedInt32Array(257, 130, 129), PackedInt32Array(257, 129, 258), PackedInt32Array(158, 257, 258, 259), PackedInt32Array(129, 168, 64, 63, 260), PackedInt32Array(261, 133, 132), PackedInt32Array(261, 132, 262), PackedInt32Array(161, 261, 262, 263), PackedInt32Array(18, 161, 263), PackedInt32Array(18, 263, 264), PackedInt32Array(204, 203, 84), PackedInt32Array(265, 266, 40), PackedInt32Array(265, 40, 267), PackedInt32Array(58, 265, 267, 268), PackedInt32Array(59, 58, 268), PackedInt32Array(59, 268, 269, 270), PackedInt32Array(64, 143, 61), PackedInt32Array(129, 260, 271, 272), PackedInt32Array(40, 266, 57), PackedInt32Array(72, 40, 57), PackedInt32Array(253, 72, 57), PackedInt32Array(21, 253, 252), PackedInt32Array(22, 21, 252), PackedInt32Array(22, 252, 273), PackedInt32Array(274, 86, 16), PackedInt32Array(274, 16, 275), PackedInt32Array(276, 274, 275, 277), PackedInt32Array(192, 191, 88), PackedInt32Array(113, 155, 176, 242), PackedInt32Array(176, 179, 242), PackedInt32Array(229, 113, 242, 70), PackedInt32Array(118, 120, 49), PackedInt32Array(278, 251, 57), PackedInt32Array(278, 57, 279), PackedInt32Array(273, 278, 279, 280), PackedInt32Array(22, 273, 280), PackedInt32Array(22, 280, 281), PackedInt32Array(22, 281, 282, 283, 284), PackedInt32Array(87, 204, 84), PackedInt32Array(206, 87, 86, 285), PackedInt32Array(10, 206, 285), PackedInt32Array(10, 285, 276), PackedInt32Array(10, 276, 277), PackedInt32Array(10, 277, 286), PackedInt32Array(187, 240, 32), PackedInt32Array(287, 245, 34), PackedInt32Array(287, 34, 288), PackedInt32Array(289, 287, 288, 290), PackedInt32Array(52, 164, 49), PackedInt32Array(291, 52, 51, 292, 28), PackedInt32Array(56, 247, 53), PackedInt32Array(293, 56, 55, 294), PackedInt32Array(165, 192, 88), PackedInt32Array(194, 165, 164, 295), PackedInt32Array(28, 194, 295), PackedInt32Array(28, 295, 291), PackedInt32Array(296, 28, 292, 297), PackedInt32Array(250, 296, 297, 249), PackedInt32Array(157, 216, 93), PackedInt32Array(218, 157, 156, 298), PackedInt32Array(14, 218, 298), PackedInt32Array(14, 298, 299, 300), PackedInt32Array(239, 301, 222, 105, 294), PackedInt32Array(71, 211, 302), PackedInt32Array(68, 71, 302), PackedInt32Array(244, 68, 302, 303, 34), PackedInt32Array(11, 225, 304), PackedInt32Array(77, 11, 304), PackedInt32Array(208, 77, 304, 305), PackedInt32Array(105, 208, 305, 53), PackedInt32Array(83, 227, 306), PackedInt32Array(80, 83, 306), PackedInt32Array(209, 80, 306, 307), PackedInt32Array(126, 209, 307), PackedInt32Array(126, 307, 226, 135), PackedInt32Array(282, 279, 57), PackedInt32Array(282, 57, 283), PackedInt32Array(308, 22, 284, 309), PackedInt32Array(310, 258, 129, 272), PackedInt32Array(311, 262, 132), PackedInt32Array(311, 132, 312), PackedInt32Array(264, 311, 312, 313), PackedInt32Array(18, 264, 313), PackedInt32Array(18, 313, 314, 315), PackedInt32Array(90, 250, 12), PackedInt32Array(90, 12, 213), PackedInt32Array(212, 213, 232, 231), PackedInt32Array(42, 41, 232), PackedInt32Array(42, 232, 95), PackedInt32Array(188, 187, 32), PackedInt32Array(60, 283, 57), PackedInt32Array(309, 60, 59, 316), PackedInt32Array(308, 309, 316), PackedInt32Array(308, 316, 317), PackedInt32Array(308, 317, 270, 200), PackedInt32Array(318, 275, 16), PackedInt32Array(318, 16, 319), PackedInt32Array(286, 318, 319, 320), PackedInt32Array(10, 286, 320), PackedInt32Array(10, 320, 321), PackedInt32Array(322, 267, 40), PackedInt32Array(322, 40, 323), PackedInt32Array(269, 322, 323, 324), PackedInt32Array(270, 269, 324), PackedInt32Array(270, 324, 325, 198), PackedInt32Array(326, 312, 132), PackedInt32Array(326, 132, 327), PackedInt32Array(314, 326, 327, 328), PackedInt32Array(315, 314, 328), PackedInt32Array(315, 328, 329), PackedInt32Array(315, 329, 330, 331), PackedInt32Array(254, 188, 32), PackedInt32Array(254, 32, 255), PackedInt32Array(71, 47, 256, 332), PackedInt32Array(71, 332, 33), PackedInt32Array(210, 71, 33, 333), PackedInt32Array(334, 288, 34), PackedInt32Array(334, 34, 335), PackedInt32Array(336, 334, 335, 337), PackedInt32Array(338, 339, 36), PackedInt32Array(338, 36, 340), PackedInt32Array(341, 338, 340, 342), PackedInt32Array(330, 327, 132), PackedInt32Array(330, 132, 343), PackedInt32Array(330, 343, 331), PackedInt32Array(315, 331, 344), PackedInt32Array(345, 319, 16), PackedInt32Array(345, 16, 346), PackedInt32Array(321, 345, 346, 347), PackedInt32Array(10, 321, 347), PackedInt32Array(10, 347, 348, 349), PackedInt32Array(43, 323, 40), PackedInt32Array(325, 43, 42, 350), PackedInt32Array(351, 343, 132, 136), PackedInt32Array(33, 255, 32), PackedInt32Array(33, 30, 333), PackedInt32Array(210, 333, 172), PackedInt32Array(210, 172, 34), PackedInt32Array(303, 210, 34), PackedInt32Array(229, 228, 246), PackedInt32Array(229, 246, 289), PackedInt32Array(229, 289, 290), PackedInt32Array(229, 290, 336), PackedInt32Array(229, 336, 337, 173), PackedInt32Array(35, 335, 34), PackedInt32Array(352, 35, 24, 230), PackedInt32Array(352, 230, 173), PackedInt32Array(337, 352, 173), PackedInt32Array(229, 173, 353), PackedInt32Array(135, 229, 353, 308), PackedInt32Array(39, 340, 36), PackedInt32Array(354, 39, 38, 355), PackedInt32Array(159, 102, 8), PackedInt32Array(356, 346, 16), PackedInt32Array(356, 16, 357), PackedInt32Array(348, 356, 357, 358), PackedInt32Array(349, 348, 358), PackedInt32Array(349, 358, 359), PackedInt32Array(19, 357, 16), PackedInt32Array(359, 19, 18, 360), PackedInt32Array(349, 359, 360), PackedInt32Array(349, 360, 361), PackedInt32Array(136, 349, 361, 315), PackedInt32Array(136, 315, 344), PackedInt32Array(136, 344, 351), PackedInt32Array(83, 136, 135), PackedInt32Array(362, 126, 135), PackedInt32Array(15, 213, 12), PackedInt32Array(214, 14, 196, 235), PackedInt32Array(350, 199, 198), PackedInt32Array(325, 350, 198), PackedInt32Array(270, 198, 200), PackedInt32Array(135, 308, 200, 202), PackedInt32Array(135, 202, 300), PackedInt32Array(362, 135, 300), PackedInt32Array(98, 159, 8), PackedInt32Array(98, 8, 220), PackedInt32Array(219, 220, 272, 236), PackedInt32Array(237, 236, 272), PackedInt32Array(271, 237, 272), PackedInt32Array(310, 272, 363), PackedInt32Array(310, 363, 36, 364), PackedInt32Array(259, 364, 36), PackedInt32Array(158, 259, 36), PackedInt32Array(365, 156, 36), PackedInt32Array(365, 36, 339), PackedInt32Array(299, 365, 339, 366), PackedInt32Array(300, 299, 366), PackedInt32Array(300, 366, 341), PackedInt32Array(300, 341, 342), PackedInt32Array(300, 342, 354), PackedInt32Array(300, 354, 355), PackedInt32Array(300, 355, 367), PackedInt32Array(362, 300, 367, 368), PackedInt32Array(153, 362, 368, 38), PackedInt32Array(153, 175, 223), PackedInt32Array(153, 223, 369), PackedInt32Array(153, 369, 301), PackedInt32Array(239, 153, 301), PackedInt32Array(293, 294, 105), PackedInt32Array(248, 293, 105), PackedInt32Array(10, 53, 305, 224), PackedInt32Array(8, 11, 220)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
