[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(662, 539, 538, 539, 24, 524, 76, 524, 362, 39, 238, 39, 24, 24, 76, 24, 462, 639, 338, 639, 224, 624, 276, 624, 256, 239, 138, 239, 24, 224, 76, 224, 1114.9, 1080.4, 462, 965, 524, 924, 576, 924, 724, 476, 676, 476, 224, 424, 276, 424, 862, 639, 662, 639, 724, 624, 776, 624, 138, 339, 38, 339, 24, 324, 76, 324, 338, 739, 238, 739, 224, 724, 276, 724, 940, 748, 924, 824, 924, 776, 24, 624, 24, 576, 38, 539, 38, 739, 224, 776, 176, 776, 162, 765, 176, 724, 724, 424, 724, 376, 738, 348, 738, 565, -214.75, 1118.58, 338, 965, 824, 224, 824, 176, 838, 165, 838, 339, 624, 724, 624, 676, 638, 665, 638, 865, 676, 624, 962, 365, 962, 39, 1106.09, -138.133, 940, 651, 924, 524, 924, 476, 924, 424, 738, 48, 738, 165, 724, 124, 724, 76, 238, 165, 224, 124, 224, 76, 38, 465, 24, 424, 24, 376, 538, 165, 538, 265, 524, 224, 524, 176, 538, 665, 524, 624, 524, 576, 238, 865, 224, 824, 924, 24, 740, 39, 876, 24, 824, 24, 776, 24, 438, -61, 438, 51, 424, 24, 424, -24, 924, 376, 862, 365, 876, 376, 476, 924, 476, 876, 776, 176, 438, 165, 476, 176, 576, 676, 124, 324, 124, 276, 676, 576, 324, 724, 324, 676, 824, 324, 740, 339, 776, 324, 24, 724, -62, 739, -24, 724, 862, 565, 876, 424, 624, 24, 656, -49, 656, 48, 624, 76, 624, -24, 656, 265, 656, 348, 624, 324, 624, 276, 576, 276, 256, 865, 256, 948, 224, 924, 224, 876, 124, 824, 176, 824, 176, 876, 62, 865, 876, 624, 924, 624, 862, 651, 876, 576, 824, 624, 824, 576, 862, 748, 876, 776, 862, 765, 676, 76, 676, 376, 256, 165, 224, 224, 224, 176, 24, 124, 76, 124, 176, 176, 740, -49, 776, -24, 740, 251, 776, 276, 162, 539, 176, 76, 76, 276, 276, 676, 876, -24, 824, -24, 676, 124, 662, 139, 624, 124, 576, 24, 576, 76, 776, 224, 724, 224, 724, 176, 362, 51, 324, 24, 376, 24, 340, 248, 340, 165, 362, 165, 376, 176, 376, 224, 362, 148, 438, 148, 424, 176, 876, 476, 876, 524, 576, 724, 524, 724, 524, 676, 876, 824, 824, 824, 824, 776, 762, 765, 776, 776, 762, 865, 776, 824, 876, 876, 876, 924, 824, 924, 824, 876, 338, 948, 24, 924, 76, 924, -24, 924, 176, 676, 476, 224, 424, 224, 576, 324, 524, 324, 524, 276, 924, -24, 676, 176, 176, 124, 124, 124, 124, 76, 76, 76, -24, 24, -24, 476, -24, 424, 24, 476, 476, 276, 676, 524, 724, 524, 624, 524, 624, 476, 576, 476, 924, 576, 476, 624, 424, 624, 476, 576, 424, 576, 576, 824, 624, 824, 524, 824, 624, 876, 576, 876, 576, 776, 524, 776, 124, 776, 62, 765, 76, 776, 76, 824, 376, -24, -24, 376, -24, 324, 724, 576, -24, 576, -24, 524, -24, 676, 324, -24, 624, 424, 624, 376, 676, 424, 924, 876, 924, 924, 776, 876, 776, 924, 724, 924, 724, 876, 324, 324, 376, 324, 24, 276, -24, 224, -24, 276, 224, 676, 176, 624, 176, 576, 224, 576, 24, 76, -24, 876, -62, 865, 824, 276, 662, 251, 676, 224, 562, 139, 576, 124, 562, -61, 576, -24, 24, 676, -24, 624, 476, 676, 476, 324, 424, 276, 176, 924, 124, 924, 124, 876, 76, 876, 24, 876, 676, 876, 676, 924, 624, 924, 776, 576, 576, 424, 524, 424, 576, 376, 524, 376, -193.227, -150.859, 176, 224, 124, 224, 124, 176, 76, 176, -24, 124, 24, 176, 476, 824, 524, 876, 276, 24, 224, 24, 276, -24, 224, -24, 576, 524, 524, 524, 524, 476, 476, 476, 176, 424, -24, 76, 476, 376, 276, 324, 624, 776, 476, 724, 476, 776, 376, 624, 324, 624, 376, 576, 324, 576, 476, 424, 424, 424, 424, 376, 376, 376, 376, 424, 324, 376, 424, 324, 376, 276, 324, 276, 324, 424, 276, 376, 262, 365, 176, -24, 224, 376, -24, 176, 176, 24, 124, 24, 124, -24, 76, -24, 476, 524, 424, 524, 424, 476, 376, 476, 162, 465, 276, 576, 262, 248, 276, 276, 162, 365, 176, 376, 24, -24, -24, -24, 76, 476, 376, 524, 324, 524, 324, 476, 276, 476, 276, 524, 224, 524, 224, 476, 176, 476, 176, 524, 124, 524, 124, 476)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23), PackedInt32Array(24, 25, 26, 27), PackedInt32Array(28, 29, 30, 31), PackedInt32Array(32, 33, 34, 35), PackedInt32Array(36, 16, 37, 38), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(34, 33, 43, 44, 45, 46), PackedInt32Array(47, 48, 49, 50), PackedInt32Array(17, 16, 51, 52), PackedInt32Array(53, 54, 55, 56), PackedInt32Array(57, 58, 59, 60), PackedInt32Array(61, 26, 25), PackedInt32Array(62, 63, 64, 16), PackedInt32Array(62, 16, 65, 66, 67), PackedInt32Array(68, 62, 67), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(5, 73, 74, 75), PackedInt32Array(29, 76, 77, 78), PackedInt32Array(79, 80, 81, 82), PackedInt32Array(1, 83, 84, 85), PackedInt32Array(33, 86, 87, 43), PackedInt32Array(88, 63, 89, 90), PackedInt32Array(91, 90, 89), PackedInt32Array(92, 91, 89), PackedInt32Array(93, 94, 95, 96), PackedInt32Array(62, 68, 97), PackedInt32Array(98, 62, 97, 99), PackedInt32Array(100, 18, 17), PackedInt32Array(100, 17, 8, 101), PackedInt32Array(70, 55, 54, 102), PackedInt32Array(103, 79, 82, 104), PackedInt32Array(83, 59, 58, 105), PackedInt32Array(13, 28, 106, 107), PackedInt32Array(61, 25, 0, 108), PackedInt32Array(9, 32, 109, 110), PackedInt32Array(111, 56, 112, 113), PackedInt32Array(114, 42, 115, 116), PackedInt32Array(117, 98, 99, 118), PackedInt32Array(119, 120, 121, 122), PackedInt32Array(120, 119, 123), PackedInt32Array(124, 125, 126, 127), PackedInt32Array(80, 124, 127, 128), PackedInt32Array(129, 130, 131, 132, 86), PackedInt32Array(133, 134, 86, 132, 135, 136), PackedInt32Array(137, 138, 65, 139, 24), PackedInt32Array(140, 137, 24, 141, 142, 117), PackedInt32Array(143, 36, 38, 144, 145), PackedInt32Array(121, 69, 72, 146), PackedInt32Array(125, 49, 48, 147), PackedInt32Array(148, 12, 149, 150, 73), PackedInt32Array(151, 152, 73, 150, 153), PackedInt32Array(92, 89, 154, 155), PackedInt32Array(113, 112, 156, 157), PackedInt32Array(2, 1, 85, 158), PackedInt32Array(6, 5, 75, 159), PackedInt32Array(14, 13, 107, 160), PackedInt32Array(10, 9, 110, 161), PackedInt32Array(162, 90, 91, 163), PackedInt32Array(146, 164, 165, 166, 122, 121), PackedInt32Array(167, 119, 122, 168), PackedInt32Array(102, 169, 156, 170, 171, 70), PackedInt32Array(94, 172, 4), PackedInt32Array(94, 4, 173, 174), PackedInt32Array(175, 176, 177, 178, 179), PackedInt32Array(177, 180, 181, 103, 182, 178), PackedInt32Array(118, 68, 67, 183), PackedInt32Array(117, 118, 183), PackedInt32Array(117, 183, 184), PackedInt32Array(105, 185, 186, 187, 83), PackedInt32Array(144, 188, 189, 190, 145), PackedInt32Array(191, 145, 190, 192), PackedInt32Array(193, 191, 192, 194), PackedInt32Array(195, 196, 197, 198), PackedInt32Array(130, 199, 52, 51), PackedInt32Array(130, 51, 200, 201), PackedInt32Array(202, 200, 51), PackedInt32Array(46, 45, 158, 203), PackedInt32Array(103, 104, 204, 205, 182), PackedInt32Array(80, 128, 206, 207, 208), PackedInt32Array(64, 63, 88, 209), PackedInt32Array(164, 71, 70, 171, 210, 165), PackedInt32Array(211, 74, 73), PackedInt32Array(211, 73, 212), PackedInt32Array(159, 211, 212, 213), PackedInt32Array(6, 159, 213), PackedInt32Array(6, 213, 214, 215), PackedInt32Array(216, 217, 77, 76, 218), PackedInt32Array(204, 81, 80), PackedInt32Array(205, 204, 80, 208, 219), PackedInt32Array(220, 221, 50), PackedInt32Array(222, 220, 50, 0), PackedInt32Array(21, 220, 222, 223), PackedInt32Array(22, 21, 223), PackedInt32Array(22, 223, 224), PackedInt32Array(117, 184, 66, 225, 140), PackedInt32Array(226, 84, 83), PackedInt32Array(227, 226, 83, 8), PackedInt32Array(228, 226, 227, 229), PackedInt32Array(230, 231, 60), PackedInt32Array(232, 230, 60, 233, 234), PackedInt32Array(235, 230, 232, 236), PackedInt32Array(198, 193, 194, 189, 195), PackedInt32Array(134, 87, 86), PackedInt32Array(44, 134, 133, 237, 45), PackedInt32Array(238, 45, 237, 239), PackedInt32Array(136, 238, 239, 240), PackedInt32Array(136, 240, 133), PackedInt32Array(93, 96, 241), PackedInt32Array(30, 29, 78, 242, 243), PackedInt32Array(244, 108, 0, 50), PackedInt32Array(2, 41, 40, 245, 246), PackedInt32Array(247, 116, 115), PackedInt32Array(174, 95, 94), PackedInt32Array(241, 174, 173, 248), PackedInt32Array(20, 249, 250, 251), PackedInt32Array(188, 37, 16, 252), PackedInt32Array(16, 253, 252), PackedInt32Array(188, 252, 195, 189), PackedInt32Array(193, 198, 254), PackedInt32Array(193, 254, 255, 256, 257), PackedInt32Array(258, 259, 125, 147, 250), PackedInt32Array(31, 106, 28), PackedInt32Array(160, 31, 30, 260), PackedInt32Array(14, 160, 260, 261), PackedInt32Array(261, 260, 262), PackedInt32Array(35, 109, 32), PackedInt32Array(161, 35, 34, 263), PackedInt32Array(10, 161, 263, 264), PackedInt32Array(264, 263, 203), PackedInt32Array(264, 203, 158), PackedInt32Array(265, 264, 158), PackedInt32Array(266, 265, 158), PackedInt32Array(215, 214, 152, 267), PackedInt32Array(268, 202, 51, 269), PackedInt32Array(56, 111, 270), PackedInt32Array(53, 56, 270), PackedInt32Array(169, 53, 270, 157, 156), PackedInt32Array(170, 156, 271, 272), PackedInt32Array(272, 271, 165, 210), PackedInt32Array(166, 165, 273, 274), PackedInt32Array(274, 273, 275, 168), PackedInt32Array(167, 168, 275), PackedInt32Array(276, 167, 275), PackedInt32Array(123, 276, 275, 120), PackedInt32Array(42, 114, 277), PackedInt32Array(39, 42, 277), PackedInt32Array(278, 39, 277, 247), PackedInt32Array(196, 253, 16), PackedInt32Array(83, 187, 279, 8), PackedInt32Array(206, 126, 125), PackedInt32Array(206, 125, 207), PackedInt32Array(179, 205, 219, 280, 281), PackedInt32Array(282, 131, 130), PackedInt32Array(282, 130, 283), PackedInt32Array(135, 282, 283, 284), PackedInt32Array(136, 135, 284), PackedInt32Array(136, 284, 285), PackedInt32Array(136, 285, 201, 200, 286), PackedInt32Array(163, 155, 154, 64), PackedInt32Array(197, 196, 16), PackedInt32Array(64, 209, 162), PackedInt32Array(278, 247, 115), PackedInt32Array(93, 241, 248), PackedInt32Array(65, 138, 225), PackedInt32Array(255, 197, 16), PackedInt32Array(255, 16, 256), PackedInt32Array(60, 193, 257, 287), PackedInt32Array(60, 287, 288, 289, 233), PackedInt32Array(16, 36, 65), PackedInt32Array(66, 65, 225), PackedInt32Array(50, 117, 142, 290), PackedInt32Array(50, 290, 27, 26, 244), PackedInt32Array(291, 249, 20), PackedInt32Array(291, 20, 292), PackedInt32Array(293, 291, 292, 294), PackedInt32Array(64, 162, 163), PackedInt32Array(295, 64, 154, 275), PackedInt32Array(296, 149, 12), PackedInt32Array(296, 12, 297), PackedInt32Array(153, 296, 297, 298), PackedInt32Array(151, 153, 298), PackedInt32Array(151, 298, 299, 300), PackedInt32Array(300, 299, 15, 301), PackedInt32Array(288, 256, 16), PackedInt32Array(288, 16, 289), PackedInt32Array(302, 232, 234, 19, 303), PackedInt32Array(304, 173, 4), PackedInt32Array(304, 4, 305), PackedInt32Array(306, 304, 305, 307), PackedInt32Array(27, 141, 24), PackedInt32Array(308, 222, 0), PackedInt32Array(308, 0, 309), PackedInt32Array(224, 308, 309, 310), PackedInt32Array(22, 224, 310), PackedInt32Array(22, 310, 311, 312), PackedInt32Array(152, 212, 73), PackedInt32Array(152, 151, 267), PackedInt32Array(215, 267, 313, 295), PackedInt32Array(50, 221, 20), PackedInt32Array(47, 50, 20), PackedInt32Array(251, 47, 20), PackedInt32Array(147, 251, 250), PackedInt32Array(258, 250, 293), PackedInt32Array(258, 293, 294), PackedInt32Array(258, 294, 314, 315), PackedInt32Array(60, 231, 316), PackedInt32Array(57, 60, 316), PackedInt32Array(185, 57, 316, 235), PackedInt32Array(186, 185, 235, 236), PackedInt32Array(317, 186, 236, 318), PackedInt32Array(245, 278, 115, 295), PackedInt32Array(93, 248, 306), PackedInt32Array(19, 289, 16), PackedInt32Array(19, 18, 303), PackedInt32Array(302, 303, 101), PackedInt32Array(302, 101, 8), PackedInt32Array(318, 302, 8), PackedInt32Array(317, 318, 8), PackedInt32Array(279, 317, 8), PackedInt32Array(319, 227, 8), PackedInt32Array(319, 8, 320), PackedInt32Array(321, 319, 320, 322), PackedInt32Array(323, 292, 20), PackedInt32Array(323, 20, 324), PackedInt32Array(314, 323, 324, 325), PackedInt32Array(315, 314, 325), PackedInt32Array(315, 325, 326), PackedInt32Array(315, 326, 327, 328), PackedInt32Array(93, 306, 307), PackedInt32Array(280, 207, 125), PackedInt32Array(280, 125, 329), PackedInt32Array(280, 329, 281), PackedInt32Array(179, 281, 330, 175), PackedInt32Array(175, 330, 259, 258, 331), PackedInt32Array(201, 283, 130), PackedInt32Array(269, 136, 286, 268), PackedInt32Array(269, 51, 295, 115), PackedInt32Array(327, 324, 20), PackedInt32Array(327, 20, 332), PackedInt32Array(327, 332, 328), PackedInt32Array(315, 328, 333, 334), PackedInt32Array(93, 307, 335, 295), PackedInt32Array(23, 332, 20), PackedInt32Array(333, 23, 22, 336, 334), PackedInt32Array(154, 120, 275), PackedInt32Array(295, 275, 93), PackedInt32Array(15, 297, 12), PackedInt32Array(15, 14, 301), PackedInt32Array(300, 301, 337), PackedInt32Array(338, 305, 4), PackedInt32Array(338, 4, 339), PackedInt32Array(335, 338, 339, 340), PackedInt32Array(295, 335, 340), PackedInt32Array(295, 340, 341), PackedInt32Array(342, 309, 0), PackedInt32Array(342, 0, 343), PackedInt32Array(311, 342, 343, 344), PackedInt32Array(312, 311, 344), PackedInt32Array(312, 344, 345, 346), PackedInt32Array(11, 320, 8), PackedInt32Array(347, 11, 10, 266), PackedInt32Array(347, 266, 158), PackedInt32Array(322, 347, 158), PackedInt32Array(321, 322, 158), PackedInt32Array(229, 321, 158), PackedInt32Array(228, 229, 158), PackedInt32Array(85, 228, 158), PackedInt32Array(2, 158, 41), PackedInt32Array(246, 245, 295), PackedInt32Array(216, 246, 295), PackedInt32Array(259, 329, 125), PackedInt32Array(348, 175, 331, 349), PackedInt32Array(334, 348, 349, 315), PackedInt32Array(350, 334, 336, 351), PackedInt32Array(346, 350, 351, 312), PackedInt32Array(7, 339, 4), PackedInt32Array(341, 7, 6, 352), PackedInt32Array(295, 341, 352), PackedInt32Array(295, 352, 353), PackedInt32Array(295, 353, 215), PackedInt32Array(295, 313, 300), PackedInt32Array(295, 300, 337), PackedInt32Array(295, 337, 261), PackedInt32Array(295, 261, 262), PackedInt32Array(295, 262, 243), PackedInt32Array(295, 243, 242), PackedInt32Array(295, 242, 217), PackedInt32Array(216, 295, 217), PackedInt32Array(2, 218, 76, 354, 3), PackedInt32Array(355, 343, 0), PackedInt32Array(355, 0, 356), PackedInt32Array(345, 355, 356, 357), PackedInt32Array(346, 345, 357), PackedInt32Array(346, 357, 358, 76), PackedInt32Array(359, 356, 0), PackedInt32Array(359, 0, 360), PackedInt32Array(358, 359, 360, 361), PackedInt32Array(76, 358, 361), PackedInt32Array(76, 361, 362), PackedInt32Array(363, 360, 0), PackedInt32Array(363, 0, 364), PackedInt32Array(362, 363, 364, 365), PackedInt32Array(76, 362, 365), PackedInt32Array(76, 365, 354), PackedInt32Array(0, 3, 364)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
