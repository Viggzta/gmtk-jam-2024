[gd_scene load_steps=4 format=3 uid="uid://ibjjv2483um"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_66df6"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(838, 165, 838, 239, 824, 224, 824, 176, 762, 165, 776, 176, 762, 239, 776, 224, 738, 265, 738, 339, 724, 324, 724, 276, 662, 265, 676, 276, 662, 339, 676, 324, 624, 176, 576, 176, 62, 165, 238, 165, 638, 239, 538, 239, 24, 224, 76, 224, 962, 265, 1106.09, -138.133, 1114.9, 1080.4, 924, 424, 924, 376, 962, 739, 738, 739, 624, 724, 676, 724, 738, 139, 638, 139, 424, 124, 476, 124, 438, 639, 338, 639, 124, 624, 176, 624, 424, 576, 376, 576, 262, 565, 338, 565, 324, 424, 338, 239, 324, 476, 324, 376, 324, 324, 562, 965, 624, 924, 676, 924, 862, 39, 738, 39, 724, 24, 776, 24, 262, 439, 62, 439, 124, 424, 176, 424, 862, 539, 738, 539, 724, 524, 776, 524, 562, 839, 438, 839, 424, 824, 476, 824, 638, 439, 538, 439, 524, 424, 576, 424, 238, 839, 62, 839, 124, 824, 176, 824, 324, 276, 724, 76, 676, 76, 662, 65, 676, 24, 924, 624, 924, 676, 876, 676, 862, 665, 876, 624, -214.75, 1118.58, 438, 965, 76, 424, 76, 824, 924, 324, 962, 865, 924, 924, 924, 876, 538, -61, 538, 65, 524, 24, 524, -24, 138, -61, 138, 65, 124, 24, 124, -24, 238, 65, 224, 124, 224, 76, 538, 365, 524, 324, 524, 276, 738, 665, 724, 624, 724, 576, 738, 865, 724, 824, 724, 776, 424, 924, 424, 876, 962, 139, 924, 24, 924, -24, 924, 124, 862, 139, 876, 124, 276, 376, 224, 324, 276, 324, 924, 276, 862, 265, 876, 276, 876, 876, 576, 924, 576, 876, 176, 76, 876, 76, 724, 124, 624, 224, 638, 365, 624, 424, 624, 376, 576, 376, 538, 539, 524, 524, 524, 476, 438, 565, 424, 624, 62, 365, 76, 376, 162, 365, 124, 376, 338, 739, 324, 724, 324, 676, 238, 748, 224, 824, 224, 776, 62, 739, 76, 776, 462, 539, 476, 524, 462, 239, 476, 476, 240, 739, 276, 724, 862, 365, 876, 324, 156, 651, 156, 748, 124, 724, 124, 676, 176, 776, 240, 651, 276, 676, 324, 524, 276, 524, 276, 476, 362, 165, 376, 124, 362, -61, 376, 76, 676, 776, 876, -24, 876, 24, 824, 24, 824, -24, 276, 276, 224, 276, 38, 239, 38, 251, -44, 251, -24, 224, -44, 339, -62, 339, -193.227, -150.859, -62, 165, 876, 376, 876, 424, 824, 424, 824, 376, 762, 365, 776, 376, 762, 465, 776, 424, 876, 476, 876, 524, 824, 524, 824, 476, 876, 724, 824, 724, 824, 676, 776, 676, 676, 824, 624, 824, 624, 776, 576, 724, 576, 776, 562, 765, 876, 924, 824, 924, 824, 876, 776, 876, 662, -61, 676, -24, 176, 124, 124, 124, 124, 76, 524, 376, 176, 376, 776, 724, 724, 724, 724, 676, 776, 924, 724, 924, 724, 876, 476, 24, 424, 24, 476, -24, 424, -24, 76, 24, 24, 24, 62, 39, 76, -24, 24, -24, 476, 324, 476, 376, 676, 624, 624, 624, 676, 576, 624, 576, 662, 565, 376, 924, 324, 924, 376, 876, 324, 876, 362, 865, 924, 76, 724, -24, 476, 276, 476, 424, 124, 776, 676, 524, 624, 876, 376, 824, 224, 424, 224, 376, 924, 724, 76, 624, 76, 676, 62, 665, 676, 124, 624, 124, 624, 76, 576, 76, 576, 124, 524, 124, 524, 76, 576, 224, 524, 224, 524, 176, 476, 176, 376, 624, 324, 624, 324, 576, 276, 576, 276, 624, 224, 624, 224, 576, 24, 724, 76, 724, -62, 739, -24, 724, -24, 676, -62, 665, 176, 324, 276, 424, 76, 76, 24, 676, 924, 576, 876, 576, 924, 524, 162, 239, 524, 824, 576, 824, 676, 876, 776, -24, 776, 476, 724, 476, 476, 776, 424, 776, 376, 24, 476, 76, 76, 124, 924, 476, 576, 624, 676, 676, 524, 776, 276, 924, 262, 965, 662, 465, 676, 476, 562, 565, 576, 576, 176, 276, -24, 176, 376, -24, -24, -24, 424, 76, 476, 224, 424, 224, 424, 176, 376, 176, 62, 565, 176, 576, 624, 676, -24, 24, -62, 39, 376, 224, 324, 224, 324, 176, 276, 176, 124, 576, 76, 576, 576, 676, 362, 765, 376, 776, 262, 865, 276, 876, -62, 965, 276, 224, 224, 224, 224, 176, 176, 176, 24, 176, 176, 224, 124, 224, 124, 176, 76, 176)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(2, 1, 6, 7), PackedInt32Array(7, 6, 4, 5), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 8, 11, 13), PackedInt32Array(10, 9, 14, 15), PackedInt32Array(15, 14, 12, 13), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23), PackedInt32Array(24, 25, 26, 27, 28), PackedInt32Array(29, 30, 31, 32), PackedInt32Array(33, 34, 35, 36), PackedInt32Array(37, 38, 39, 40), PackedInt32Array(41, 42, 43, 44), PackedInt32Array(45, 46, 44, 47), PackedInt32Array(46, 45, 48), PackedInt32Array(49, 46, 48), PackedInt32Array(26, 50, 51, 52), PackedInt32Array(53, 54, 55, 56), PackedInt32Array(57, 58, 59, 60), PackedInt32Array(61, 62, 63, 64), PackedInt32Array(65, 66, 67, 68), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(73, 74, 75, 76), PackedInt32Array(46, 49, 77), PackedInt32Array(55, 54, 78, 79, 80, 81), PackedInt32Array(82, 83, 84, 85, 86), PackedInt32Array(50, 26, 87, 88), PackedInt32Array(89, 59, 58), PackedInt32Array(90, 75, 74), PackedInt32Array(91, 24, 28), PackedInt32Array(92, 26, 93, 94), PackedInt32Array(95, 96, 97, 98), PackedInt32Array(99, 100, 101, 102), PackedInt32Array(103, 19, 104, 105), PackedInt32Array(21, 106, 107, 108), PackedInt32Array(62, 109, 110, 111), PackedInt32Array(30, 112, 113, 114), PackedInt32Array(66, 88, 115, 116), PackedInt32Array(25, 24, 117), PackedInt32Array(25, 117, 118, 119), PackedInt32Array(120, 117, 121, 122), PackedInt32Array(48, 123, 124, 125), PackedInt32Array(24, 91, 126), PackedInt32Array(127, 24, 126, 128), PackedInt32Array(112, 92, 94, 129), PackedInt32Array(130, 51, 50), PackedInt32Array(130, 50, 65, 131), PackedInt32Array(100, 103, 105, 132), PackedInt32Array(122, 121, 53, 133), PackedInt32Array(54, 33, 134, 78), PackedInt32Array(34, 20, 135, 16), PackedInt32Array(136, 69, 137, 138), PackedInt32Array(106, 136, 138, 139), PackedInt32Array(70, 140, 141, 142), PackedInt32Array(143, 37, 144, 41), PackedInt32Array(44, 143, 41), PackedInt32Array(89, 58, 145, 146), PackedInt32Array(146, 145, 147, 148), PackedInt32Array(38, 149, 150, 151), PackedInt32Array(152, 73, 153, 154), PackedInt32Array(90, 74, 155, 156), PackedInt32Array(141, 140, 157, 158), PackedInt32Array(158, 157, 159, 160), PackedInt32Array(150, 149, 161, 162), PackedInt32Array(163, 127, 128, 164), PackedInt32Array(165, 166, 167, 168), PackedInt32Array(166, 152, 154, 169), PackedInt32Array(162, 161, 170, 171), PackedInt32Array(172, 44, 43, 173), PackedInt32Array(173, 43, 57, 174), PackedInt32Array(35, 34, 16, 175, 176), PackedInt32Array(176, 175, 177, 178), PackedInt32Array(31, 30, 114, 179), PackedInt32Array(180, 181, 53, 182, 183), PackedInt32Array(125, 49, 48), PackedInt32Array(184, 125, 124, 185), PackedInt32Array(22, 186, 187, 188, 189), PackedInt32Array(188, 190, 191, 192, 193), PackedInt32Array(164, 91, 28, 194, 163), PackedInt32Array(194, 195, 196, 197, 163), PackedInt32Array(198, 163, 197, 199), PackedInt32Array(200, 198, 199, 201), PackedInt32Array(202, 203, 61, 204, 205), PackedInt32Array(84, 206, 207, 208, 85), PackedInt32Array(109, 85, 208, 209), PackedInt32Array(179, 210, 211, 212), PackedInt32Array(31, 179, 212, 213), PackedInt32Array(213, 212, 214, 215), PackedInt32Array(129, 216, 217, 218), PackedInt32Array(112, 129, 218), PackedInt32Array(112, 218, 219), PackedInt32Array(81, 80, 220, 221), PackedInt32Array(100, 132, 222, 223, 224), PackedInt32Array(106, 139, 72, 71, 225), PackedInt32Array(60, 59, 148, 147, 226), PackedInt32Array(109, 209, 227, 228, 229), PackedInt32Array(112, 219, 230, 231, 232), PackedInt32Array(233, 97, 96), PackedInt32Array(233, 96, 234), PackedInt32Array(235, 233, 234, 236), PackedInt32Array(237, 101, 100), PackedInt32Array(238, 237, 100, 239), PackedInt32Array(240, 237, 238, 241), PackedInt32Array(222, 104, 19), PackedInt32Array(222, 19, 223), PackedInt32Array(242, 107, 106, 225, 243), PackedInt32Array(200, 201, 196), PackedInt32Array(244, 110, 109), PackedInt32Array(244, 109, 245), PackedInt32Array(246, 244, 245, 247, 248), PackedInt32Array(210, 113, 112), PackedInt32Array(249, 115, 88), PackedInt32Array(249, 88, 250), PackedInt32Array(251, 249, 250, 252, 253), PackedInt32Array(118, 254, 133, 53, 181), PackedInt32Array(255, 221, 220), PackedInt32Array(95, 98, 235), PackedInt32Array(99, 102, 240), PackedInt32Array(21, 108, 256, 159), PackedInt32Array(71, 70, 142, 160, 257), PackedInt32Array(257, 160, 159), PackedInt32Array(243, 257, 159), PackedInt32Array(46, 77, 184), PackedInt32Array(47, 174, 57), PackedInt32Array(38, 151, 171, 170), PackedInt32Array(258, 156, 155, 166), PackedInt32Array(259, 63, 62, 111, 246, 248), PackedInt32Array(260, 131, 65), PackedInt32Array(261, 67, 66, 116, 251, 253), PackedInt32Array(117, 120, 254), PackedInt32Array(118, 117, 254), PackedInt32Array(57, 262, 263), PackedInt32Array(29, 264, 83), PackedInt32Array(39, 38, 170, 165), PackedInt32Array(265, 39, 165, 168, 266, 267), PackedInt32Array(80, 79, 268, 269, 270), PackedInt32Array(268, 134, 33), PackedInt32Array(268, 33, 269), PackedInt32Array(96, 80, 270, 271), PackedInt32Array(96, 271, 272, 273, 274), PackedInt32Array(275, 135, 20), PackedInt32Array(275, 20, 276), PackedInt32Array(17, 275, 276, 277), PackedInt32Array(18, 17, 277), PackedInt32Array(18, 277, 278), PackedInt32Array(72, 137, 69), PackedInt32Array(242, 243, 159), PackedInt32Array(256, 242, 159), PackedInt32Array(22, 21, 159), PackedInt32Array(22, 159, 46), PackedInt32Array(279, 144, 37), PackedInt32Array(279, 37, 280), PackedInt32Array(42, 279, 280, 281), PackedInt32Array(43, 42, 281), PackedInt32Array(43, 281, 282), PackedInt32Array(43, 282, 283, 284, 285), PackedInt32Array(76, 153, 73), PackedInt32Array(169, 76, 75, 258, 166), PackedInt32Array(166, 155, 286, 287), PackedInt32Array(286, 155, 288, 289), PackedInt32Array(290, 289, 288, 291), PackedInt32Array(292, 124, 123, 293, 263), PackedInt32Array(216, 93, 26), PackedInt32Array(100, 224, 294, 239), PackedInt32Array(287, 167, 166), PackedInt32Array(266, 287, 286, 295, 267), PackedInt32Array(26, 92, 29), PackedInt32Array(26, 29, 82, 296), PackedInt32Array(82, 29, 83), PackedInt32Array(86, 85, 61, 297), PackedInt32Array(298, 296, 297, 61, 203), PackedInt32Array(200, 196, 195), PackedInt32Array(211, 210, 112), PackedInt32Array(217, 216, 26), PackedInt32Array(25, 119, 180), PackedInt32Array(95, 235, 236), PackedInt32Array(99, 240, 241), PackedInt32Array(46, 184, 185, 299), PackedInt32Array(230, 217, 26), PackedInt32Array(230, 26, 231), PackedInt32Array(300, 301, 112, 232, 302, 65), PackedInt32Array(47, 57, 263, 293), PackedInt32Array(25, 180, 183), PackedInt32Array(298, 26, 296), PackedInt32Array(25, 183, 303, 220), PackedInt32Array(52, 231, 26), PackedInt32Array(302, 52, 51, 260), PackedInt32Array(302, 260, 65), PackedInt32Array(56, 182, 53), PackedInt32Array(303, 56, 55, 255), PackedInt32Array(303, 255, 220), PackedInt32Array(192, 25, 220, 95), PackedInt32Array(60, 262, 57), PackedInt32Array(226, 147, 299, 292), PackedInt32Array(64, 204, 61), PackedInt32Array(304, 64, 63, 305, 200), PackedInt32Array(206, 264, 29), PackedInt32Array(68, 300, 65), PackedInt32Array(306, 68, 67, 307), PackedInt32Array(308, 234, 96, 274, 309), PackedInt32Array(310, 223, 19, 18), PackedInt32Array(200, 195, 27, 311, 202), PackedInt32Array(312, 245, 109, 229, 313), PackedInt32Array(301, 211, 112), PackedInt32Array(214, 301, 300, 314, 215), PackedInt32Array(315, 250, 88, 316), PackedInt32Array(26, 298, 311), PackedInt32Array(27, 26, 311), PackedInt32Array(200, 202, 205), PackedInt32Array(200, 205, 304), PackedInt32Array(317, 200, 305, 318), PackedInt32Array(248, 317, 318, 259), PackedInt32Array(319, 248, 247, 320), PackedInt32Array(215, 319, 320, 312), PackedInt32Array(44, 172, 47), PackedInt32Array(293, 45, 47), PackedInt32Array(292, 263, 226), PackedInt32Array(321, 292, 299), PackedInt32Array(185, 321, 299), PackedInt32Array(22, 46, 299), PackedInt32Array(22, 299, 186), PackedInt32Array(322, 189, 188, 193), PackedInt32Array(95, 236, 323, 177), PackedInt32Array(99, 241, 324, 192), PackedInt32Array(207, 206, 29), PackedInt32Array(272, 269, 33), PackedInt32Array(272, 33, 273), PackedInt32Array(308, 309, 36, 325), PackedInt32Array(326, 276, 20), PackedInt32Array(326, 20, 327), PackedInt32Array(278, 326, 327, 328), PackedInt32Array(18, 278, 328), PackedInt32Array(18, 328, 329), PackedInt32Array(283, 280, 37), PackedInt32Array(283, 37, 284), PackedInt32Array(330, 43, 285, 331), PackedInt32Array(227, 207, 29), PackedInt32Array(227, 29, 228), PackedInt32Array(312, 313, 32, 332), PackedInt32Array(36, 273, 33), PackedInt32Array(36, 35, 325), PackedInt32Array(308, 325, 178), PackedInt32Array(308, 178, 177), PackedInt32Array(323, 308, 177), PackedInt32Array(192, 95, 177), PackedInt32Array(192, 177, 99), PackedInt32Array(192, 324, 333, 334), PackedInt32Array(335, 327, 20), PackedInt32Array(335, 20, 336), PackedInt32Array(329, 335, 336, 337), PackedInt32Array(18, 329, 337), PackedInt32Array(18, 337, 338, 193), PackedInt32Array(40, 284, 37), PackedInt32Array(331, 40, 39, 339), PackedInt32Array(330, 331, 339), PackedInt32Array(330, 339, 340), PackedInt32Array(267, 330, 340, 265), PackedInt32Array(291, 267, 295, 290), PackedInt32Array(32, 228, 29), PackedInt32Array(32, 31, 332), PackedInt32Array(312, 332, 341), PackedInt32Array(215, 312, 341), PackedInt32Array(215, 341, 213), PackedInt32Array(342, 215, 314, 306), PackedInt32Array(342, 306, 307), PackedInt32Array(342, 307, 343), PackedInt32Array(253, 342, 343, 261), PackedInt32Array(344, 253, 252, 345), PackedInt32Array(316, 344, 345, 315), PackedInt32Array(316, 88, 87), PackedInt32Array(346, 316, 87), PackedInt32Array(346, 87, 192, 288), PackedInt32Array(291, 288, 192), PackedInt32Array(191, 291, 192), PackedInt32Array(347, 336, 20), PackedInt32Array(347, 20, 348), PackedInt32Array(338, 347, 348, 349), PackedInt32Array(193, 338, 349), PackedInt32Array(193, 349, 350), PackedInt32Array(19, 175, 16), PackedInt32Array(310, 18, 239, 294), PackedInt32Array(238, 239, 334, 333), PackedInt32Array(192, 334, 193), PackedInt32Array(351, 322, 193), PackedInt32Array(352, 348, 20), PackedInt32Array(352, 20, 353), PackedInt32Array(350, 352, 353, 354), PackedInt32Array(193, 350, 354), PackedInt32Array(193, 354, 355), PackedInt32Array(351, 193, 355), PackedInt32Array(351, 355, 23, 22), PackedInt32Array(20, 23, 353)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights : Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_66df6")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="Navmesh" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
