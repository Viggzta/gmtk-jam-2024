[gd_scene load_steps=4 format=3 uid="uid://clk1iiypwkn2j"]

[ext_resource type="Script" path="res://scenes/test/felix/testscne.gd" id="1_r2gxb"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4kd2u"]
vertices = PackedVector2Array(824, 276, 776, 276, 462, 265, 476, 224, 524, 224, 838, 239, 962, 239, 576, 224, 462, 139, 338, 139, 24, 124, 76, 124, 662, 339, 438, 339, 324, 324, 376, 324, 762, 839, 638, 839, 424, 824, 476, 824, 438, 439, 138, 439, 124, 424, 176, 424, 924, 776, 876, 776, 124, 724, 176, 724, 624, 76, 576, 76, 462, 65, 476, 24, 524, 24, 638, 39, 424, 376, 376, 376, 262, 365, 276, 324, 738, 39, 576, 24, 862, 439, 662, 439, 724, 424, 776, 424, 262, 239, 138, 239, 124, 224, 176, 224, 348, 852, 376, 824, 624, 876, 576, 876, 148, 839, 138, 839, 24, 824, 76, 824, 924, 24, 924, 76, 876, 76, 862, 65, 876, 24, 124, 276, 76, 276, 62, 265, 76, 224, 148, 743, 124, 776, 76, 776, 62, 765, 76, 724, 676, 424, 762, 965, 876, 924, 924, 924, 1114.9, 1080.4, 724, 824, 776, 824, 924, 876, 876, 876, 962, 365, 1106.09, -138.133, 924, 124, 962, 665, 924, 824, 924, 724, 638, 165, 624, 124, 838, 365, 824, 324, 338, 265, 324, 224, 324, 176, 138, 365, 124, 324, 138, 565, 124, 524, 124, 476, 338, 565, 338, 665, 324, 624, 324, 576, 638, 465, 638, 565, 624, 524, 624, 476, 838, 565, 838, 665, 824, 624, 824, 576, 138, 965, 124, 924, 124, 876, 638, 965, 624, 924, 824, 924, 924, 524, 962, 539, 862, 539, 876, 524, 924, 424, 924, 376, 876, 376, 924, 676, 876, 676, 776, 924, 776, 876, 276, 576, 462, 465, 576, 476, 776, 576, 248, -57, 248, 52, 224, 24, 224, -24, 738, -61, 724, 24, 724, -24, 876, 476, 676, 376, 424, 424, 348, 743, 376, 776, 924, -24, 48, 452, 76, 424, 76, 476, 48, 343, 76, 376, 124, 824, 476, 176, 276, 176, 462, -61, 476, -24, 276, 276, 76, 876, 862, -61, 876, -24, 338, -61, 338, -57, -193.227, -150.859, 24, 76, 338, 52, 338, 65, 76, 76, 876, 124, 824, 124, 824, 76, 762, 65, 776, 76, 762, 165, 776, 124, 876, 176, 876, 224, 824, 224, 824, 176, 776, 324, 724, 324, 724, 276, 676, 276, 876, 424, 824, 424, 824, 376, 624, 324, 676, 324, 776, 376, 776, 624, 724, 624, 724, 576, 676, 576, 876, 724, 824, 724, 824, 676, 524, 624, 576, 624, 776, 676, 876, 824, 824, 824, 824, 776, 776, 776, 824, 876, 62, 139, 76, 176, 676, 624, 624, 624, 624, 576, 576, 124, 524, 124, 524, 76, 476, 76, 276, 224, 224, 224, 224, 176, 176, 176, 76, 324, 24, 324, 24, 276, -62, 265, -24, 276, -24, 324, -52, 343, 76, 524, 24, 524, 24, 476, -52, 452, -24, 476, 276, 624, 224, 624, 224, 576, 176, 576, 176, 624, 124, 624, 124, 576, 576, 524, 524, 524, 524, 476, 476, 476, 462, 665, 476, 524, 76, 924, 24, 924, 24, 876, -24, 824, -24, 876, 576, 924, 524, 924, 524, 876, 476, 876, 676, -24, 524, -24, 524, 176, 924, 476, 724, 376, 324, 276, 124, 176, 924, 224, 924, 176, 776, 176, 176, -24, -214.75, 1118.58, 476, 124, 424, 124, 424, 76, 776, 224, 724, 224, 724, 176, 24, 776, 124, 376, 424, 776, 176, 24, 124, 24, 124, -24, -24, 524, 676, 24, 624, 24, 624, -24, 376, 424, 324, 424, 324, 376, 276, 376, 276, 424, 224, 424, 224, 376, -62, 765, -24, 776, 776, 724, 724, 724, 724, 676, 676, 676, 476, 624, 724, 776, 676, 824, 624, 824, 676, 776, 624, 776, 576, 324, 524, 324, 576, 276, 524, 276, 376, 76, 376, 124, 324, 124, 324, 76, 624, 276, 476, 276, 476, 324, 424, 324, 424, 276, 76, 576, 76, 624, 24, 576, 576, 576, 524, 576, -24, 924, 476, 924, 424, 924, 424, 876, 376, 876, 376, 924, 324, 924, 324, 876, 576, -24, 76, -24, 676, 724, 624, 724, 624, 676, 576, 676, 576, 724, 524, 676, 76, 24, 24, 24, 24, -24, 24, 624, -24, 576, -24, 624, -62, 639, 476, 576, 262, 965, 262, 852, 276, 876, 276, 924, 524, 724, 476, 676, 476, 724, 424, 724, 424, 676, -24, -24, -24, 24, -62, 139, 176, 376, 324, 676, 276, 676, 62, 639, 376, 676, 376, 724, 324, 724, -24, 76, 676, 176, 676, 224, 624, 224, 624, 176, 276, 124, 224, 124, 276, 76, 224, 76, 376, 276, 576, 824, 524, 824, 576, 776, 524, 776, 276, 724, 224, 724, 224, 676, 176, 676, 124, 676, 576, 176, 176, 124, 124, 124, 176, 76, 124, 76, -24, 124, 476, 776, 76, 676)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 5, 4, 7), PackedInt32Array(8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(20, 21, 22, 23), PackedInt32Array(24, 25, 26, 27), PackedInt32Array(28, 29, 30, 31, 32, 33), PackedInt32Array(34, 35, 36, 37, 14, 13), PackedInt32Array(38, 33, 32, 39), PackedInt32Array(40, 41, 42, 43), PackedInt32Array(44, 45, 46, 47), PackedInt32Array(48, 49, 18, 17, 50, 51), PackedInt32Array(52, 53, 54, 55), PackedInt32Array(56, 57, 58, 59, 60), PackedInt32Array(46, 45, 61, 62, 63, 64), PackedInt32Array(26, 65, 66, 67, 68, 69), PackedInt32Array(70, 42, 41), PackedInt32Array(71, 72, 73, 74), PackedInt32Array(75, 76, 77, 78, 16), PackedInt32Array(79, 6, 80, 74), PackedInt32Array(80, 6, 81, 57), PackedInt32Array(82, 74, 83, 24), PackedInt32Array(84, 82, 24), PackedInt32Array(33, 85, 86, 28), PackedInt32Array(5, 87, 88, 0), PackedInt32Array(9, 89, 90, 91), PackedInt32Array(45, 92, 93, 61), PackedInt32Array(21, 94, 95, 96), PackedInt32Array(97, 98, 99, 100), PackedInt32Array(101, 102, 103, 104), PackedInt32Array(105, 106, 107, 108), PackedInt32Array(53, 109, 110, 111), PackedInt32Array(17, 112, 113, 50), PackedInt32Array(114, 72, 71), PackedInt32Array(115, 116, 117, 118), PackedInt32Array(79, 119, 120), PackedInt32Array(87, 79, 120, 121), PackedInt32Array(82, 84, 122), PackedInt32Array(106, 82, 122, 123), PackedInt32Array(124, 114, 71), PackedInt32Array(124, 71, 16, 125), PackedInt32Array(56, 80, 57), PackedInt32Array(94, 97, 100, 126), PackedInt32Array(127, 101, 104, 128), PackedInt32Array(102, 105, 108, 129), PackedInt32Array(130, 131, 132, 133), PackedInt32Array(134, 38, 135, 136), PackedInt32Array(118, 117, 40, 137), PackedInt32Array(70, 41, 12, 138), PackedInt32Array(13, 20, 139, 34), PackedInt32Array(49, 48, 140, 141), PackedInt32Array(80, 56, 142), PackedInt32Array(143, 144, 22, 21, 96, 145), PackedInt32Array(144, 143, 146, 147), PackedInt32Array(65, 52, 148, 66), PackedInt32Array(3, 2, 8, 149), PackedInt32Array(10, 9, 91, 150), PackedInt32Array(31, 30, 151, 152), PackedInt32Array(37, 36, 44, 153), PackedInt32Array(54, 53, 111, 154), PackedInt32Array(60, 59, 155, 156), PackedInt32Array(157, 158, 130, 159), PackedInt32Array(160, 131, 161, 162, 163), PackedInt32Array(58, 164, 165, 166, 59), PackedInt32Array(167, 59, 166, 168), PackedInt32Array(169, 167, 168, 170), PackedInt32Array(171, 172, 173, 174), PackedInt32Array(1, 175, 176, 177), PackedInt32Array(2, 1, 177), PackedInt32Array(2, 177, 178), PackedInt32Array(121, 179, 40, 180, 181, 87), PackedInt32Array(182, 183, 87, 181, 184, 12), PackedInt32Array(129, 185, 186, 187), PackedInt32Array(102, 129, 187), PackedInt32Array(102, 187, 188), PackedInt32Array(123, 189, 190, 191, 106), PackedInt32Array(192, 193, 106, 191, 194), PackedInt32Array(189, 84, 24), PackedInt32Array(25, 195, 196, 197), PackedInt32Array(26, 25, 197), PackedInt32Array(26, 197, 198, 140), PackedInt32Array(78, 72, 114, 199), PackedInt32Array(64, 63, 200, 201), PackedInt32Array(102, 188, 202, 203, 204), PackedInt32Array(205, 86, 85), PackedInt32Array(205, 85, 206), PackedInt32Array(29, 205, 206, 207), PackedInt32Array(30, 29, 207), PackedInt32Array(30, 207, 208), PackedInt32Array(174, 169, 170, 165, 171), PackedInt32Array(209, 90, 89), PackedInt32Array(210, 209, 89, 44), PackedInt32Array(150, 209, 210, 211), PackedInt32Array(10, 150, 211), PackedInt32Array(10, 211, 212, 200), PackedInt32Array(175, 88, 87), PackedInt32Array(213, 93, 92), PackedInt32Array(213, 92, 214), PackedInt32Array(62, 213, 214, 215, 63), PackedInt32Array(216, 63, 215, 217), PackedInt32Array(216, 217, 218, 219), PackedInt32Array(220, 95, 94), PackedInt32Array(220, 94, 221), PackedInt32Array(145, 220, 221, 222, 143), PackedInt32Array(223, 143, 222, 224), PackedInt32Array(225, 99, 98), PackedInt32Array(225, 98, 226), PackedInt32Array(126, 225, 226, 227), PackedInt32Array(94, 126, 227), PackedInt32Array(94, 227, 228), PackedInt32Array(94, 228, 229, 230, 231), PackedInt32Array(232, 103, 102), PackedInt32Array(232, 102, 233), PackedInt32Array(128, 232, 233, 234), PackedInt32Array(127, 128, 234), PackedInt32Array(127, 234, 235), PackedInt32Array(236, 127, 235, 237), PackedInt32Array(185, 107, 106), PackedInt32Array(238, 110, 109), PackedInt32Array(238, 109, 239), PackedInt32Array(154, 238, 239, 240), PackedInt32Array(54, 154, 240, 241), PackedInt32Array(241, 240, 242), PackedInt32Array(243, 113, 112), PackedInt32Array(243, 112, 244), PackedInt32Array(51, 243, 244, 245), PackedInt32Array(48, 51, 245), PackedInt32Array(48, 245, 246), PackedInt32Array(142, 156, 155, 80), PackedInt32Array(134, 136, 247), PackedInt32Array(248, 152, 151), PackedInt32Array(249, 149, 8), PackedInt32Array(119, 250, 137, 40, 179), PackedInt32Array(251, 138, 12), PackedInt32Array(252, 153, 44, 89), PackedInt32Array(253, 201, 200), PackedInt32Array(199, 125, 16), PackedInt32Array(6, 254, 255), PackedInt32Array(81, 6, 255), PackedInt32Array(164, 81, 255, 171), PackedInt32Array(165, 164, 171), PackedInt32Array(169, 174, 256), PackedInt32Array(116, 115, 250, 79), PackedInt32Array(159, 80, 155, 134), PackedInt32Array(130, 133, 257), PackedInt32Array(71, 74, 258, 112), PackedInt32Array(195, 83, 74, 77), PackedInt32Array(30, 208, 259, 260, 261), PackedInt32Array(169, 256, 262, 263, 264), PackedInt32Array(68, 67, 55, 54, 265), PackedInt32Array(74, 73, 77), PackedInt32Array(266, 147, 146, 92), PackedInt32Array(267, 141, 140), PackedInt32Array(268, 132, 131), PackedInt32Array(268, 131, 269), PackedInt32Array(257, 268, 269, 270), PackedInt32Array(223, 224, 271), PackedInt32Array(190, 189, 24), PackedInt32Array(196, 195, 77), PackedInt32Array(272, 135, 38), PackedInt32Array(272, 38, 273), PackedInt32Array(247, 272, 273, 274), PackedInt32Array(275, 139, 20), PackedInt32Array(275, 20, 276), PackedInt32Array(35, 275, 276, 277), PackedInt32Array(36, 35, 277), PackedInt32Array(36, 277, 278), PackedInt32Array(36, 278, 279, 280, 281), PackedInt32Array(176, 175, 87), PackedInt32Array(186, 185, 106), PackedInt32Array(55, 148, 52), PackedInt32Array(282, 68, 265, 283), PackedInt32Array(282, 283, 241), PackedInt32Array(282, 241, 242), PackedInt32Array(134, 247, 274), PackedInt32Array(78, 199, 16), PackedInt32Array(284, 190, 24), PackedInt32Array(284, 24, 285), PackedInt32Array(194, 284, 285, 286), PackedInt32Array(192, 194, 286), PackedInt32Array(192, 286, 287, 288), PackedInt32Array(76, 196, 77), PackedInt32Array(198, 76, 75, 289), PackedInt32Array(130, 257, 270), PackedInt32Array(172, 254, 6), PackedInt32Array(290, 75, 16), PackedInt32Array(290, 16, 291), PackedInt32Array(292, 290, 291, 293), PackedInt32Array(74, 82, 116), PackedInt32Array(79, 74, 116), PackedInt32Array(119, 79, 250), PackedInt32Array(43, 180, 40), PackedInt32Array(184, 43, 42, 251), PackedInt32Array(184, 251, 12), PackedInt32Array(294, 182, 12), PackedInt32Array(294, 12, 295), PackedInt32Array(296, 294, 295, 297), PackedInt32Array(259, 206, 85), PackedInt32Array(259, 85, 260), PackedInt32Array(162, 30, 261, 298), PackedInt32Array(162, 298, 299, 300, 301), PackedInt32Array(183, 176, 87), PackedInt32Array(178, 183, 182, 302), PackedInt32Array(2, 178, 302), PackedInt32Array(2, 302, 296), PackedInt32Array(2, 296, 297), PackedInt32Array(2, 297, 303), PackedInt32Array(2, 303, 304, 305, 306), PackedInt32Array(218, 214, 92, 146), PackedInt32Array(271, 221, 94, 231, 307), PackedInt32Array(229, 226, 98), PackedInt32Array(229, 98, 230), PackedInt32Array(271, 307, 308, 309), PackedInt32Array(237, 233, 102, 204, 310), PackedInt32Array(202, 186, 106), PackedInt32Array(202, 106, 203), PackedInt32Array(237, 310, 193, 311), PackedInt32Array(312, 239, 109, 258), PackedInt32Array(313, 244, 112), PackedInt32Array(313, 112, 314), PackedInt32Array(246, 313, 314, 315), PackedInt32Array(48, 246, 315), PackedInt32Array(48, 315, 316), PackedInt32Array(48, 316, 317, 318, 319), PackedInt32Array(282, 242, 312, 258), PackedInt32Array(134, 274, 320, 151), PackedInt32Array(130, 270, 321), PackedInt32Array(322, 285, 24), PackedInt32Array(322, 24, 323), PackedInt32Array(287, 322, 323, 324), PackedInt32Array(288, 287, 324), PackedInt32Array(288, 324, 325), PackedInt32Array(288, 325, 326, 327), PackedInt32Array(328, 269, 131), PackedInt32Array(328, 131, 329), PackedInt32Array(321, 328, 329, 330), PackedInt32Array(130, 321, 330), PackedInt32Array(299, 260, 85, 8), PackedInt32Array(308, 230, 98), PackedInt32Array(308, 98, 331), PackedInt32Array(308, 331, 309), PackedInt32Array(271, 309, 332), PackedInt32Array(223, 271, 332), PackedInt32Array(159, 223, 332, 333, 334), PackedInt32Array(193, 203, 106), PackedInt32Array(193, 192, 311), PackedInt32Array(237, 311, 335), PackedInt32Array(236, 237, 335), PackedInt32Array(236, 335, 288), PackedInt32Array(317, 314, 112), PackedInt32Array(318, 317, 112, 336), PackedInt32Array(337, 48, 319, 338), PackedInt32Array(336, 337, 338, 339), PackedInt32Array(336, 339, 318), PackedInt32Array(336, 112, 258), PackedInt32Array(109, 336, 258), PackedInt32Array(282, 258, 159, 334), PackedInt32Array(173, 172, 6), PackedInt32Array(326, 323, 24), PackedInt32Array(326, 24, 340), PackedInt32Array(326, 340, 327), PackedInt32Array(288, 327, 341, 236), PackedInt32Array(236, 341, 342, 343, 344), PackedInt32Array(130, 330, 345, 159), PackedInt32Array(39, 273, 38), PackedInt32Array(320, 39, 32, 248), PackedInt32Array(320, 248, 151), PackedInt32Array(159, 134, 151), PackedInt32Array(159, 151, 157), PackedInt32Array(159, 345, 346, 347), PackedInt32Array(279, 276, 20), PackedInt32Array(279, 20, 280), PackedInt32Array(92, 36, 281, 348), PackedInt32Array(92, 348, 23, 22, 266), PackedInt32Array(333, 331, 98, 349, 350, 351), PackedInt32Array(342, 340, 24), PackedInt32Array(342, 24, 343), PackedInt32Array(98, 236, 344, 352), PackedInt32Array(98, 352, 353, 354, 349), PackedInt32Array(355, 346, 329, 131, 160), PackedInt32Array(262, 173, 6), PackedInt32Array(262, 6, 263), PackedInt32Array(85, 169, 264, 356), PackedInt32Array(85, 356, 357, 358, 359), PackedInt32Array(360, 300, 8), PackedInt32Array(360, 8, 361), PackedInt32Array(362, 360, 361, 363), PackedInt32Array(304, 295, 12), PackedInt32Array(304, 12, 305), PackedInt32Array(89, 2, 306, 364), PackedInt32Array(89, 364, 15, 14, 252), PackedInt32Array(365, 291, 16), PackedInt32Array(365, 16, 366), PackedInt32Array(367, 365, 366, 368), PackedInt32Array(353, 343, 24), PackedInt32Array(353, 24, 354), PackedInt32Array(369, 354, 24), PackedInt32Array(369, 24, 370), PackedInt32Array(350, 369, 370, 371), PackedInt32Array(27, 370, 24), PackedInt32Array(372, 27, 26, 373), PackedInt32Array(23, 280, 20), PackedInt32Array(218, 146, 219), PackedInt32Array(216, 219, 223, 159), PackedInt32Array(357, 263, 6), PackedInt32Array(357, 6, 358), PackedInt32Array(85, 359, 374, 8), PackedInt32Array(375, 361, 8), PackedInt32Array(375, 8, 376), PackedInt32Array(377, 375, 376, 378), PackedInt32Array(15, 305, 12), PackedInt32Array(47, 210, 44), PackedInt32Array(212, 47, 46, 253), PackedInt32Array(212, 253, 200), PackedInt32Array(10, 200, 347, 379), PackedInt32Array(355, 379, 347), PackedInt32Array(19, 366, 16), PackedInt32Array(380, 19, 18, 267), PackedInt32Array(380, 267, 140), PackedInt32Array(368, 380, 140), PackedInt32Array(367, 368, 140), PackedInt32Array(293, 367, 140), PackedInt32Array(292, 293, 140), PackedInt32Array(289, 292, 140), PackedInt32Array(198, 289, 140), PackedInt32Array(26, 140, 65), PackedInt32Array(69, 68, 351, 381), PackedInt32Array(373, 381, 351), PackedInt32Array(372, 373, 351), PackedInt32Array(371, 372, 351), PackedInt32Array(350, 371, 351), PackedInt32Array(333, 351, 334), PackedInt32Array(347, 216, 159), PackedInt32Array(355, 347, 346), PackedInt32Array(7, 358, 6), PackedInt32Array(374, 7, 4, 249), PackedInt32Array(374, 249, 8), PackedInt32Array(299, 8, 300), PackedInt32Array(162, 301, 362), PackedInt32Array(162, 362, 363), PackedInt32Array(162, 363, 377), PackedInt32Array(162, 377, 378), PackedInt32Array(162, 378, 163), PackedInt32Array(160, 163, 11, 10), PackedInt32Array(8, 11, 376)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-207, -165, -229, 1133, 1129, 1094, 1120, -152)])
agent_radius = 14.0

[sub_resource type="GDScript" id="GDScript_lbftg"]
script/source = "@tool
extends NavigationRegion2D

const BYGGE = preload(\"res://scenes/test/felix/bygge.tscn\")
const POOP = preload(\"res://scenes/buildings/shithouse.tscn\")
const HOUSE = preload(\"res://scenes/buildings/house.tscn\")
var poop_chance : float = 0.1

var my_buildings : Array = [BYGGE, POOP, HOUSE]
var weights: Array = PackedFloat32Array([2, 0.1, 0.8])
var rng : RandomNumberGenerator = RandomNumberGenerator.new()


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for n in get_children():
		remove_child(n)
	
	for x in range(0, 10):
		for y in range(0, 10):
			_spawn_building(x,y)
			

	bake_navigation_polygon()

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(_delta: float) -> void:
	pass
	
func _spawn_building(x: float, y : float) -> void:
	var building : Node = my_buildings[rng.rand_weighted(weights)].instantiate()
	building.position.x = x * 100
	building.position.y = y * 100
	add_child(building)
"

[node name="Testscne2" type="Node2D"]
script = ExtResource("1_r2gxb")

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2(0, 100)
zoom = Vector2(0.67, 0.67)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-400, -200)
navigation_polygon = SubResource("NavigationPolygon_4kd2u")
script = SubResource("GDScript_lbftg")
